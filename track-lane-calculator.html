<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>400m 트랙 레인별 정밀 계산기 | Athlete Time</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css">
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  
  <style>
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Malgun Gothic', '맑은 고딕', sans-serif;
    }
    
    .gradient-bg {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    }
    
    .lane-color-1 { background-color: #ef4444; }
    .lane-color-2 { background-color: #f97316; }
    .lane-color-3 { background-color: #eab308; }
    .lane-color-4 { background-color: #84cc16; }
    .lane-color-5 { background-color: #22c55e; }
    .lane-color-6 { background-color: #06b6d4; }
    .lane-color-7 { background-color: #3b82f6; }
    .lane-color-8 { background-color: #8b5cf6; }
    
    .track-diagram {
      position: relative;
      width: 100%;
      max-width: 600px;
      margin: 0 auto;
    }
    
    .curve-section {
      fill: none;
      stroke-width: 8;
      opacity: 0.7;
      transition: all 0.3s;
    }
    
    .curve-section:hover {
      opacity: 1;
      stroke-width: 10;
    }
    
    .straight-section {
      stroke-width: 8;
      opacity: 0.7;
      transition: all 0.3s;
    }
    
    .straight-section:hover {
      opacity: 1;
      stroke-width: 10;
    }
    
    @media print {
      .no-print {
        display: none !important;
      }
    }
  </style>
</head>
<body class="bg-gray-50">
  <div class="max-w-7xl mx-auto p-6">
    <!-- Header -->
    <div class="gradient-bg text-white p-6 rounded-xl mb-6">
      <div class="flex justify-between items-start">
        <div>
          <h1 class="text-3xl font-bold mb-2">400m 트랙 레인별 정밀 계산기</h1>
          <p class="opacity-90">곡선과 직선 구간을 분리하여 정확한 거리와 페이스 계산</p>
        </div>
        <div class="flex gap-2">
          <button onclick="window.location.href='pace-calculator.html'" class="bg-white/20 hover:bg-white/30 p-3 rounded-lg transition" title="페이스 계산기">
            <i class="fas fa-calculator text-xl"></i>
          </button>
          <button onclick="window.location.href='index.html'" class="bg-white/20 hover:bg-white/30 p-3 rounded-lg transition" title="홈으로">
            <i class="fas fa-home text-xl"></i>
          </button>
        </div>
      </div>
    </div>

    <!-- Input Section -->
    <div class="bg-white rounded-xl shadow-lg p-6 mb-6">
      <h2 class="text-xl font-bold mb-4">계산 입력</h2>
      
      <div class="grid md:grid-cols-4 gap-4">
        <div>
          <label class="block text-sm font-medium mb-2">레인 선택</label>
          <select id="laneSelect" class="w-full p-3 border-2 rounded-lg focus:border-purple-500" onchange="calculateTrack()">
            <option value="1">레인 1 (최내측)</option>
            <option value="2">레인 2</option>
            <option value="3">레인 3</option>
            <option value="4" selected>레인 4</option>
            <option value="5">레인 5</option>
            <option value="6">레인 6</option>
            <option value="7">레인 7</option>
            <option value="8">레인 8 (최외측)</option>
          </select>
        </div>
        
        <div>
          <label class="block text-sm font-medium mb-2">목표 400m 기록</label>
          <div class="flex gap-1">
            <input type="number" id="targetMin" placeholder="0" min="0" max="2" 
                   class="w-16 p-3 border-2 rounded-lg text-center" onchange="calculateTrack()">
            <span class="p-3">분</span>
            <input type="number" id="targetSec" placeholder="50" min="0" max="59" 
                   class="w-20 p-3 border-2 rounded-lg text-center" onchange="calculateTrack()">
            <span class="p-3">초</span>
          </div>
        </div>
        
        <div>
          <label class="block text-sm font-medium mb-2">훈련 종목</label>
          <select id="eventType" class="w-full p-3 border-2 rounded-lg" onchange="calculateTrack()">
            <option value="400m">400m</option>
            <option value="200m">200m</option>
            <option value="800m">800m (2바퀴)</option>
            <option value="1600m">1600m (4바퀴)</option>
            <option value="interval">인터벌 훈련</option>
          </select>
        </div>
        
        <div>
          <label class="block text-sm font-medium mb-2">&nbsp;</label>
          <button onclick="calculateTrack()" 
                  class="w-full bg-purple-600 text-white p-3 rounded-lg hover:bg-purple-700 transition">
            <i class="fas fa-calculator mr-2"></i>계산하기
          </button>
        </div>
      </div>
    </div>

    <!-- Track Diagram -->
    <div class="bg-white rounded-xl shadow-lg p-6 mb-6">
      <h2 class="text-xl font-bold mb-4">트랙 구간별 분석</h2>
      
      <div class="track-diagram">
        <svg viewBox="0 0 600 400" class="w-full">
          <!-- Track Background -->
          <rect x="0" y="0" width="600" height="400" fill="#f9fafb"/>
          
          <!-- Grid lines for reference -->
          <g stroke="#e5e7eb" stroke-width="1" opacity="0.5">
            <line x1="100" y1="0" x2="100" y2="400"/>
            <line x1="200" y1="0" x2="200" y2="400"/>
            <line x1="300" y1="0" x2="300" y2="400"/>
            <line x1="400" y1="0" x2="400" y2="400"/>
            <line x1="500" y1="0" x2="500" y2="400"/>
            <line x1="0" y1="100" x2="600" y2="100"/>
            <line x1="0" y1="200" x2="600" y2="200"/>
            <line x1="0" y1="300" x2="600" y2="300"/>
          </g>
          
          <!-- Track outline -->
          <g id="trackOutline" fill="none" stroke="#374151" stroke-width="2">
            <!-- Outer track -->
            <path d="M 150 100 L 450 100 A 100 100 0 0 1 450 300 L 150 300 A 100 100 0 0 1 150 100" />
            <!-- Inner track -->
            <path d="M 170 120 L 430 120 A 80 80 0 0 1 430 280 L 170 280 A 80 80 0 0 1 170 120" />
          </g>
          
          <!-- Selected Lane Path (will be updated dynamically) -->
          <g id="selectedLane">
            <!-- Dynamic content here -->
          </g>
          
          <!-- Section Labels -->
          <g id="sectionLabels" font-size="12" font-weight="bold" text-anchor="middle">
            <!-- Start/Finish -->
            <line x1="300" y1="80" x2="300" y2="320" stroke="#1f2937" stroke-width="3" stroke-dasharray="5,5"/>
            <text x="300" y="70" fill="#1f2937">START/FINISH</text>
            
            <!-- Section markers -->
            <text x="375" y="200" fill="#6b7280">직선 100m</text>
            <text x="450" y="200" fill="#6b7280">곡선 100m</text>
            <text x="225" y="200" fill="#6b7280">직선 100m</text>
            <text x="150" y="200" fill="#6b7280">곡선 100m</text>
            
            <!-- Distance markers -->
            <g fill="#9ca3af" font-size="10">
              <text x="300" y="340">0m / 400m</text>
              <text x="450" y="340">100m</text>
              <text x="450" y="60">200m</text>
              <text x="150" y="60">300m</text>
            </g>
          </g>
          
          <!-- Lane Numbers -->
          <g id="laneNumbers" font-size="14" font-weight="bold" text-anchor="middle">
            <!-- Will be filled dynamically -->
          </g>
        </svg>
      </div>
      
      <!-- Legend -->
      <div class="mt-4 flex justify-center gap-6 text-sm">
        <div class="flex items-center">
          <div class="w-8 h-3 bg-blue-500 rounded mr-2"></div>
          <span>직선 구간</span>
        </div>
        <div class="flex items-center">
          <div class="w-8 h-3 bg-red-500 rounded mr-2"></div>
          <span>곡선 구간</span>
        </div>
        <div class="flex items-center">
          <div class="w-8 h-3 bg-gray-400 rounded mr-2"></div>
          <span>스태거 (출발 위치)</span>
        </div>
      </div>
    </div>

    <!-- Detailed Calculation Results -->
    <div class="grid md:grid-cols-2 gap-6 mb-6">
      <!-- Distance Analysis -->
      <div class="bg-white rounded-xl shadow-lg p-6">
        <h3 class="text-lg font-bold mb-4">
          <i class="fas fa-ruler text-blue-500 mr-2"></i>거리 분석
        </h3>
        
        <div id="distanceAnalysis" class="space-y-3">
          <!-- Will be filled dynamically -->
        </div>
        
        <div class="mt-4 p-3 bg-gray-50 rounded-lg">
          <h4 class="font-semibold text-sm mb-2">계산 공식</h4>
          <div class="text-xs font-mono space-y-1">
            <p>곡선 거리 = π × 반경</p>
            <p>반경 = 36.5 + (레인-1) × 1.22</p>
            <p>직선 거리 = 84.39m (고정)</p>
          </div>
        </div>
      </div>
      
      <!-- Pace Analysis -->
      <div class="bg-white rounded-xl shadow-lg p-6">
        <h3 class="text-lg font-bold mb-4">
          <i class="fas fa-tachometer-alt text-green-500 mr-2"></i>페이스 분석
        </h3>
        
        <div id="paceAnalysis" class="space-y-3">
          <!-- Will be filled dynamically -->
        </div>
        
        <div class="mt-4 p-3 bg-yellow-50 rounded-lg">
          <h4 class="font-semibold text-sm mb-2">💡 훈련 팁</h4>
          <p class="text-xs text-gray-700" id="trainingTip">
            레인별 거리 차이를 고려하여 목표 시간을 조정하세요.
          </p>
        </div>
      </div>
    </div>

    <!-- Comparison Table -->
    <div class="bg-white rounded-xl shadow-lg p-6 mb-6">
      <h3 class="text-lg font-bold mb-4">
        <i class="fas fa-table text-purple-500 mr-2"></i>전체 레인 비교
      </h3>
      
      <div class="overflow-x-auto">
        <table class="w-full text-sm">
          <thead>
            <tr class="bg-gray-100">
              <th class="p-2 text-left">레인</th>
              <th class="p-2 text-center">총 거리</th>
              <th class="p-2 text-center">직선 (2×)</th>
              <th class="p-2 text-center">곡선 (2×)</th>
              <th class="p-2 text-center">스태거</th>
              <th class="p-2 text-center">반경</th>
              <th class="p-2 text-center">보정 시간</th>
            </tr>
          </thead>
          <tbody id="comparisonTable">
            <!-- Will be filled dynamically -->
          </tbody>
        </table>
      </div>
    </div>

    <!-- Visual Chart -->
    <div class="bg-white rounded-xl shadow-lg p-6 mb-6">
      <h3 class="text-lg font-bold mb-4">
        <i class="fas fa-chart-bar text-indigo-500 mr-2"></i>구간별 거리 차트
      </h3>
      
      <canvas id="distanceChart" width="400" height="200"></canvas>
    </div>

    <!-- Additional Information -->
    <div class="grid md:grid-cols-3 gap-6">
      <!-- Physics -->
      <div class="bg-gradient-to-br from-blue-50 to-blue-100 rounded-xl p-6">
        <h4 class="font-bold mb-3 text-blue-900">
          <i class="fas fa-atom mr-2"></i>물리학적 요소
        </h4>
        <ul class="text-sm space-y-2 text-blue-800">
          <li>• 원심력: 외측 레인이 유리</li>
          <li>• 경사각: 내측이 더 급격</li>
          <li>• 보폭: 곡선에서 감소</li>
          <li>• 가속도: 직선에서 최대</li>
        </ul>
      </div>
      
      <!-- Strategy -->
      <div class="bg-gradient-to-br from-green-50 to-green-100 rounded-xl p-6">
        <h4 class="font-bold mb-3 text-green-900">
          <i class="fas fa-chess mr-2"></i>레인별 전략
        </h4>
        <ul class="text-sm space-y-2 text-green-800">
          <li>• 1-3레인: 타이트한 코너링</li>
          <li>• 4-5레인: 균형잡힌 주행</li>
          <li>• 6-8레인: 스태거 활용</li>
          <li>• 공통: 일정한 리듬 유지</li>
        </ul>
      </div>
      
      <!-- Records -->
      <div class="bg-gradient-to-br from-purple-50 to-purple-100 rounded-xl p-6">
        <h4 class="font-bold mb-3 text-purple-900">
          <i class="fas fa-trophy mr-2"></i>참고 기록
        </h4>
        <ul class="text-sm space-y-2 text-purple-800">
          <li>• 남자 WR: 43.03초</li>
          <li>• 여자 WR: 47.60초</li>
          <li>• 남자 한국: 44.39초</li>
          <li>• 여자 한국: 51.84초</li>
        </ul>
      </div>
    </div>

    <!-- Creator Credit -->
    <div class="text-center mt-8 text-sm text-gray-600">
      제작자: 장호준 코치 | 정밀한 트랙 분석으로 최적의 훈련 전략 수립
    </div>
  </div>

  <script>
    // Lane configuration data
    const laneConfig = {
      straightLength: 84.39, // meters per straight section
      innerRadius: 36.50,    // meters for lane 1
      laneWidth: 1.22        // meters between lanes
    };
    
    // Calculate lane data
    function getLaneData(laneNumber) {
      const radius = laneConfig.innerRadius + (laneNumber - 1) * laneConfig.laneWidth;
      const curveLength = Math.PI * radius; // Half circle
      const straightTotal = laneConfig.straightLength * 2;
      const curveTotal = curveLength * 2;
      const totalDistance = straightTotal + curveTotal;
      const stagger = totalDistance - 400;
      
      return {
        lane: laneNumber,
        radius: radius,
        straightLength: laneConfig.straightLength,
        curveLength: curveLength,
        straightTotal: straightTotal,
        curveTotal: curveTotal,
        totalDistance: totalDistance,
        stagger: stagger
      };
    }
    
    // Main calculation function
    function calculateTrack() {
      const laneNumber = parseInt(document.getElementById('laneSelect').value);
      const targetMin = parseInt(document.getElementById('targetMin').value) || 0;
      const targetSec = parseInt(document.getElementById('targetSec').value) || 50;
      const eventType = document.getElementById('eventType').value;
      
      const targetTime = targetMin * 60 + targetSec;
      const laneData = getLaneData(laneNumber);
      
      // Update track visualization
      updateTrackVisualization(laneNumber, laneData);
      
      // Update distance analysis
      updateDistanceAnalysis(laneData, targetTime);
      
      // Update pace analysis
      updatePaceAnalysis(laneData, targetTime, eventType);
      
      // Update comparison table
      updateComparisonTable(targetTime);
      
      // Update chart
      updateDistanceChart();
      
      // Update training tip
      updateTrainingTip(laneNumber, eventType);
    }
    
    // Update track SVG visualization
    function updateTrackVisualization(laneNumber, laneData) {
      const selectedLane = document.getElementById('selectedLane');
      const laneColors = ['#ef4444', '#f97316', '#eab308', '#84cc16', '#22c55e', '#06b6d4', '#3b82f6', '#8b5cf6'];
      const color = laneColors[laneNumber - 1];
      
      // Calculate path for selected lane
      const baseRadius = 90; // Base radius for visualization
      const visualRadius = baseRadius + (laneNumber - 1) * 10;
      
      selectedLane.innerHTML = `
        <!-- Selected lane path -->
        <g stroke="${color}" fill="none" stroke-width="6" opacity="0.8">
          <!-- Straight sections (blue overlay) -->
          <line x1="300" y1="${200 - visualRadius}" x2="450" y2="${200 - visualRadius}" 
                stroke="#3b82f6" stroke-width="8" opacity="0.8"/>
          <line x1="300" y1="${200 + visualRadius}" x2="450" y2="${200 + visualRadius}" 
                stroke="#3b82f6" stroke-width="8" opacity="0.8"/>
          
          <!-- Curve sections (red overlay) -->
          <path d="M 450 ${200 - visualRadius} A ${visualRadius} ${visualRadius} 0 0 1 450 ${200 + visualRadius}" 
                stroke="#ef4444" stroke-width="8" opacity="0.8"/>
          <path d="M 150 ${200 + visualRadius} A ${visualRadius} ${visualRadius} 0 0 1 150 ${200 - visualRadius}" 
                stroke="#ef4444" stroke-width="8" opacity="0.8"/>
        </g>
        
        <!-- Stagger line -->
        <line x1="${300 + laneData.stagger * 2}" y1="${200 - visualRadius - 20}" 
              x2="${300 + laneData.stagger * 2}" y2="${200 - visualRadius}" 
              stroke="#6b7280" stroke-width="3" stroke-dasharray="3,3"/>
        <text x="${300 + laneData.stagger * 2}" y="${200 - visualRadius - 25}" 
              font-size="10" fill="#6b7280" text-anchor="middle">
          +${laneData.stagger.toFixed(2)}m
        </text>
        
        <!-- Lane number -->
        <circle cx="300" cy="200" r="15" fill="${color}"/>
        <text x="300" y="205" font-size="14" font-weight="bold" fill="white" text-anchor="middle">
          ${laneNumber}
        </text>
      `;
    }
    
    // Update distance analysis
    function updateDistanceAnalysis(laneData, targetTime) {
      const html = `
        <div class="p-3 bg-blue-50 rounded-lg">
          <div class="flex justify-between items-center mb-2">
            <span class="font-medium">총 거리</span>
            <span class="text-xl font-bold text-blue-600">${laneData.totalDistance.toFixed(2)}m</span>
          </div>
          <div class="text-xs text-gray-600">레인 1 대비 +${laneData.stagger.toFixed(2)}m</div>
        </div>
        
        <div class="grid grid-cols-2 gap-2">
          <div class="p-3 bg-gray-50 rounded-lg">
            <div class="text-xs text-gray-500 mb-1">직선 구간 (2×)</div>
            <div class="font-bold">${laneData.straightTotal.toFixed(2)}m</div>
            <div class="text-xs text-blue-600">${(laneData.straightTotal / laneData.totalDistance * 100).toFixed(1)}%</div>
          </div>
          <div class="p-3 bg-gray-50 rounded-lg">
            <div class="text-xs text-gray-500 mb-1">곡선 구간 (2×)</div>
            <div class="font-bold">${laneData.curveTotal.toFixed(2)}m</div>
            <div class="text-xs text-red-600">${(laneData.curveTotal / laneData.totalDistance * 100).toFixed(1)}%</div>
          </div>
        </div>
        
        <div class="p-2 bg-yellow-50 rounded text-xs">
          <strong>구간별 상세:</strong><br>
          • 직선 1개: ${laneData.straightLength.toFixed(2)}m<br>
          • 곡선 1개: ${laneData.curveLength.toFixed(2)}m<br>
          • 곡선 반경: ${laneData.radius.toFixed(2)}m
        </div>
      `;
      
      document.getElementById('distanceAnalysis').innerHTML = html;
    }
    
    // Update pace analysis
    function updatePaceAnalysis(laneData, targetTime, eventType) {
      const speed400m = 400 / targetTime; // m/s for 400m
      const actualSpeed = laneData.totalDistance / targetTime; // m/s for actual distance
      
      // Calculate split times
      const straightTime = laneData.straightTotal / actualSpeed;
      const curveTime = laneData.curveTotal / actualSpeed;
      
      // Calculate pace per km
      const pacePer400m = targetTime;
      const pacePerKm = (1000 / 400) * targetTime;
      
      const html = `
        <div class="p-3 bg-green-50 rounded-lg">
          <div class="flex justify-between items-center mb-2">
            <span class="font-medium">400m 목표</span>
            <span class="text-xl font-bold text-green-600">${formatTime(targetTime)}</span>
          </div>
          <div class="text-xs text-gray-600">실제 속도: ${actualSpeed.toFixed(2)} m/s</div>
        </div>
        
        <div class="grid grid-cols-2 gap-2">
          <div class="p-3 bg-gray-50 rounded-lg">
            <div class="text-xs text-gray-500 mb-1">직선 시간</div>
            <div class="font-bold">${formatTime(straightTime)}</div>
            <div class="text-xs text-blue-600">${formatTime(straightTime/2)}/100m</div>
          </div>
          <div class="p-3 bg-gray-50 rounded-lg">
            <div class="text-xs text-gray-500 mb-1">곡선 시간</div>
            <div class="font-bold">${formatTime(curveTime)}</div>
            <div class="text-xs text-red-600">${formatTime(curveTime/2)}/100m</div>
          </div>
        </div>
        
        <div class="p-2 bg-purple-50 rounded text-xs">
          <strong>페이스 변환:</strong><br>
          • 400m 랩: ${formatTime(pacePer400m)}<br>
          • 킬로미터: ${formatPacePerKm(pacePerKm)}<br>
          • 시속: ${(actualSpeed * 3.6).toFixed(2)} km/h
        </div>
      `;
      
      document.getElementById('paceAnalysis').innerHTML = html;
    }
    
    // Update comparison table
    function updateComparisonTable(targetTime) {
      const tbody = document.getElementById('comparisonTable');
      let html = '';
      
      for (let lane = 1; lane <= 8; lane++) {
        const data = getLaneData(lane);
        const adjustedTime = targetTime * (data.totalDistance / 400);
        const bgColor = lane % 2 === 0 ? 'bg-gray-50' : '';
        
        html += `
          <tr class="${bgColor} hover:bg-purple-50 transition">
            <td class="p-2">
              <span class="inline-block w-4 h-4 rounded-full lane-color-${lane} mr-2"></span>
              레인 ${lane}
            </td>
            <td class="p-2 text-center font-semibold">${data.totalDistance.toFixed(2)}m</td>
            <td class="p-2 text-center">${data.straightTotal.toFixed(2)}m</td>
            <td class="p-2 text-center">${data.curveTotal.toFixed(2)}m</td>
            <td class="p-2 text-center text-purple-600">+${data.stagger.toFixed(2)}m</td>
            <td class="p-2 text-center">${data.radius.toFixed(2)}m</td>
            <td class="p-2 text-center font-bold">${formatTime(adjustedTime)}</td>
          </tr>
        `;
      }
      
      tbody.innerHTML = html;
    }
    
    // Update distance chart
    function updateDistanceChart() {
      const ctx = document.getElementById('distanceChart').getContext('2d');
      
      const lanes = [];
      const straightData = [];
      const curveData = [];
      const totalData = [];
      
      for (let i = 1; i <= 8; i++) {
        const data = getLaneData(i);
        lanes.push(`레인 ${i}`);
        straightData.push(data.straightTotal);
        curveData.push(data.curveTotal);
        totalData.push(data.totalDistance);
      }
      
      // Clear existing chart
      if (window.distanceChartInstance) {
        window.distanceChartInstance.destroy();
      }
      
      window.distanceChartInstance = new Chart(ctx, {
        type: 'bar',
        data: {
          labels: lanes,
          datasets: [
            {
              label: '직선 구간',
              data: straightData,
              backgroundColor: 'rgba(59, 130, 246, 0.6)',
              borderColor: 'rgba(59, 130, 246, 1)',
              borderWidth: 1
            },
            {
              label: '곡선 구간',
              data: curveData,
              backgroundColor: 'rgba(239, 68, 68, 0.6)',
              borderColor: 'rgba(239, 68, 68, 1)',
              borderWidth: 1
            }
          ]
        },
        options: {
          responsive: true,
          maintainAspectRatio: false,
          scales: {
            x: {
              stacked: true
            },
            y: {
              stacked: true,
              beginAtZero: true,
              title: {
                display: true,
                text: '거리 (m)'
              }
            }
          },
          plugins: {
            tooltip: {
              callbacks: {
                footer: function(tooltipItems) {
                  let sum = 0;
                  tooltipItems.forEach(function(tooltipItem) {
                    sum += tooltipItem.parsed.y;
                  });
                  return '총 거리: ' + sum.toFixed(2) + 'm';
                }
              }
            }
          }
        }
      });
    }
    
    // Update training tip
    function updateTrainingTip(laneNumber, eventType) {
      const tips = {
        '400m': {
          1: '타이트한 코너링 연습이 중요합니다. 내측 어깨를 낮추고 몸을 기울이세요.',
          2: '레인 1보다 7m 더 달려야 합니다. 페이스 조절에 유의하세요.',
          3: '균형잡힌 레인입니다. 일정한 리듬을 유지하세요.',
          4: '가장 선호되는 레인입니다. 경쟁자를 볼 수 있는 이점을 활용하세요.',
          5: '외측 레인의 장점을 활용하되, 오버페이스에 주의하세요.',
          6: '스태거가 크므로 초반 페이스를 보수적으로 가져가세요.',
          7: '거의 45m를 더 달려야 합니다. 체력 배분이 중요합니다.',
          8: '가장 긴 거리입니다. 자기 페이스에 집중하고 주변에 흔들리지 마세요.'
        },
        '200m': {
          1: '한 개의 코너만 도는 것을 고려하여 더 공격적으로 달리세요.',
          2: '곡선 구간에서의 가속이 중요합니다.',
          3: '직선 진입 시 최대 속도를 낼 준비를 하세요.',
          4: '스타트 후 60m 지점부터 최대 속도로 전환하세요.',
          5: '외측 레인의 완만한 곡선을 활용하여 속도를 유지하세요.',
          6: '스태거 때문에 앞서 출발하지만 긴장하지 마세요.',
          7: '자신의 레이스에 집중하고 뒤를 돌아보지 마세요.',
          8: '가장 완만한 코너를 활용하여 스피드를 극대화하세요.'
        }
      };
      
      const tip = tips[eventType] ? tips[eventType][laneNumber] : 
                  '레인별 거리 차이를 고려하여 목표 시간을 조정하세요.';
      
      document.getElementById('trainingTip').textContent = tip;
    }
    
    // Format time helper
    function formatTime(seconds) {
      const min = Math.floor(seconds / 60);
      const sec = (seconds % 60).toFixed(2);
      return min > 0 ? `${min}:${sec.padStart(5, '0')}` : `${sec}초`;
    }
    
    // Format pace per km
    function formatPacePerKm(seconds) {
      const min = Math.floor(seconds / 60);
      const sec = Math.floor(seconds % 60);
      return `${min}:${sec.toString().padStart(2, '0')}/km`;
    }
    
    // Initialize on load
    document.addEventListener('DOMContentLoaded', function() {
      // Set default values
      document.getElementById('targetSec').value = '50';
      
      // Initial calculation
      calculateTrack();
    });
  </script>
</body>
</html>