<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>레인 거리 계산 검증</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css">
</head>
<body class="bg-gray-100 p-8">
  <div class="max-w-6xl mx-auto">
    <h1 class="text-2xl font-bold mb-6 text-center">레인 거리 계산 검증</h1>
    
    <!-- IAAF 표준 레인 거리 -->
    <div class="bg-white rounded-lg shadow-lg p-6 mb-6">
      <h2 class="text-xl font-bold mb-4">
        <i class="fas fa-ruler mr-2"></i>IAAF 표준 400m 트랙 레인별 거리
      </h2>
      <div class="overflow-x-auto">
        <table class="w-full border-collapse">
          <thead>
            <tr class="bg-gray-100">
              <th class="border p-2">레인</th>
              <th class="border p-2">1바퀴 거리</th>
              <th class="border p-2">추가 거리</th>
              <th class="border p-2">비율</th>
              <th class="border p-2">계산 근거</th>
            </tr>
          </thead>
          <tbody>
            <tr class="bg-yellow-50">
              <td class="border p-2 font-bold">1레인</td>
              <td class="border p-2">400.00m</td>
              <td class="border p-2">-</td>
              <td class="border p-2">100.0%</td>
              <td class="border p-2 text-sm">기준 (반지름 36.50m)</td>
            </tr>
            <tr>
              <td class="border p-2 font-bold">2레인</td>
              <td class="border p-2">407.04m</td>
              <td class="border p-2 text-red-600">+7.04m</td>
              <td class="border p-2">101.76%</td>
              <td class="border p-2 text-sm">반지름 37.72m (36.50 + 1.22)</td>
            </tr>
            <tr>
              <td class="border p-2 font-bold">3레인</td>
              <td class="border p-2">414.70m</td>
              <td class="border p-2 text-red-600">+14.70m</td>
              <td class="border p-2">103.68%</td>
              <td class="border p-2 text-sm">반지름 38.94m (36.50 + 2.44)</td>
            </tr>
            <tr>
              <td class="border p-2 font-bold">4레인</td>
              <td class="border p-2">422.37m</td>
              <td class="border p-2 text-red-600">+22.37m</td>
              <td class="border p-2">105.59%</td>
              <td class="border p-2 text-sm">반지름 40.16m (36.50 + 3.66)</td>
            </tr>
            <tr>
              <td class="border p-2 font-bold">5레인</td>
              <td class="border p-2">430.03m</td>
              <td class="border p-2 text-red-600">+30.03m</td>
              <td class="border p-2">107.51%</td>
              <td class="border p-2 text-sm">반지름 41.38m (36.50 + 4.88)</td>
            </tr>
            <tr>
              <td class="border p-2 font-bold">6레인</td>
              <td class="border p-2">437.70m</td>
              <td class="border p-2 text-red-600">+37.70m</td>
              <td class="border p-2">109.43%</td>
              <td class="border p-2 text-sm">반지름 42.60m (36.50 + 6.10)</td>
            </tr>
            <tr>
              <td class="border p-2 font-bold">7레인</td>
              <td class="border p-2">445.36m</td>
              <td class="border p-2 text-red-600">+45.36m</td>
              <td class="border p-2">111.34%</td>
              <td class="border p-2 text-sm">반지름 43.82m (36.50 + 7.32)</td>
            </tr>
            <tr>
              <td class="border p-2 font-bold">8레인</td>
              <td class="border p-2">453.03m</td>
              <td class="border p-2 text-red-600">+53.03m</td>
              <td class="border p-2">113.26%</td>
              <td class="border p-2 text-sm">반지름 45.04m (36.50 + 8.54)</td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
    
    <!-- 계산 공식 설명 -->
    <div class="bg-white rounded-lg shadow-lg p-6 mb-6">
      <h2 class="text-xl font-bold mb-4">
        <i class="fas fa-calculator mr-2"></i>레인 거리 계산 공식
      </h2>
      <div class="grid md:grid-cols-2 gap-6">
        <div class="bg-blue-50 p-4 rounded">
          <h3 class="font-semibold mb-2">표준 400m 트랙 구성</h3>
          <ul class="text-sm space-y-2">
            <li><strong>직선 구간:</strong> 84.39m × 2 = 168.78m</li>
            <li><strong>곡선 구간:</strong> 115.61m × 2 = 231.22m</li>
            <li><strong>레인 폭:</strong> 1.22m (표준)</li>
            <li><strong>1레인 내측 반지름:</strong> 36.50m</li>
          </ul>
        </div>
        
        <div class="bg-green-50 p-4 rounded">
          <h3 class="font-semibold mb-2">레인별 반지름 계산</h3>
          <ul class="text-sm space-y-2">
            <li>레인 N의 반지름 = 36.50 + (N-1) × 1.22</li>
            <li>곡선 길이 = 2π × 반지름</li>
            <li>직선 구간은 모든 레인 동일</li>
            <li>실제로는 달리는 위치(0.2~0.3m)도 고려</li>
          </ul>
        </div>
      </div>
    </div>
    
    <!-- 실시간 비교 -->
    <div class="grid md:grid-cols-2 gap-6">
      <div class="bg-white rounded-lg shadow-lg p-4">
        <h3 class="text-lg font-bold mb-3 text-blue-600">PC 버전</h3>
        <iframe src="pace-calculator.html#lane" class="w-full h-96 border rounded"></iframe>
      </div>
      
      <div class="bg-white rounded-lg shadow-lg p-4">
        <h3 class="text-lg font-bold mb-3 text-green-600">모바일 버전</h3>
        <iframe src="pace-calculator-mobile.html" class="w-full h-96 border rounded"></iframe>
      </div>
    </div>
    
    <!-- 페이스별 시간 계산 예시 -->
    <div class="bg-white rounded-lg shadow-lg p-6 mt-6">
      <h2 class="text-xl font-bold mb-4">
        <i class="fas fa-running mr-2"></i>레인별 페이스 시간 차이
      </h2>
      <div class="mb-4">
        <label class="font-semibold">km 페이스 선택:</label>
        <select id="paceSelect" onchange="calculateLaneTimes()" class="ml-2 px-3 py-2 border rounded">
          <option value="180">3:00/km</option>
          <option value="240" selected>4:00/km</option>
          <option value="300">5:00/km</option>
          <option value="360">6:00/km</option>
        </select>
      </div>
      <div id="laneTimesResult"></div>
    </div>
  </div>
  
  <script>
    function formatTime(seconds) {
      const min = Math.floor(seconds / 60);
      const sec = Math.floor(seconds % 60);
      const decimal = Math.floor((seconds % 1) * 10);
      
      if (decimal > 0) {
        return `${min}:${String(sec).padStart(2, '0')}.${decimal}`;
      }
      return `${min}:${String(sec).padStart(2, '0')}`;
    }
    
    function calculateLaneTimes() {
      const paceSeconds = parseInt(document.getElementById('paceSelect').value);
      const paceMin = Math.floor(paceSeconds / 60);
      const paceSec = paceSeconds % 60;
      
      const laneDistances = {
        1: 400.00,
        2: 407.04,
        3: 414.70,
        4: 422.37,
        5: 430.03,
        6: 437.70,
        7: 445.36,
        8: 453.03
      };
      
      let html = `
        <h3 class="font-semibold mb-2">${paceMin}:${String(paceSec).padStart(2, '0')}/km 페이스 기준</h3>
        <table class="w-full border-collapse">
          <thead>
            <tr class="bg-gray-100">
              <th class="border p-2">레인</th>
              <th class="border p-2">거리</th>
              <th class="border p-2">소요 시간</th>
              <th class="border p-2">1레인 대비</th>
            </tr>
          </thead>
          <tbody>
      `;
      
      const lane1Time = (paceSeconds / 1000) * laneDistances[1];
      
      for (let lane = 1; lane <= 8; lane++) {
        const distance = laneDistances[lane];
        const time = (paceSeconds / 1000) * distance;
        const diff = time - lane1Time;
        
        html += `
          <tr class="${lane === 1 ? 'bg-yellow-50' : ''}">
            <td class="border p-2">${lane}레인</td>
            <td class="border p-2">${distance.toFixed(2)}m</td>
            <td class="border p-2 font-bold">${formatTime(time)}</td>
            <td class="border p-2 ${diff > 0 ? 'text-red-600' : ''}">
              ${diff > 0 ? '+' : ''}${diff.toFixed(1)}초
            </td>
          </tr>
        `;
      }
      
      html += '</tbody></table>';
      document.getElementById('laneTimesResult').innerHTML = html;
    }
    
    // 페이지 로드 시 초기 계산
    calculateLaneTimes();
  </script>
</body>
</html>