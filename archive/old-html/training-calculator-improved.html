<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>훈련 페이스 계산기 Pro - 장호준 코치 개발 | Athlete Time</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css">
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  
  <style>
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Malgun Gothic', '맑은 고딕', sans-serif;
    }
    
    .gradient-bg {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    }
    
    .gradient-text {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
    }
    
    .training-zone-easy { background: linear-gradient(135deg, #10b981, #059669); }
    .training-zone-marathon { background: linear-gradient(135deg, #3b82f6, #2563eb); }
    .training-zone-threshold { background: linear-gradient(135deg, #f59e0b, #d97706); }
    .training-zone-interval { background: linear-gradient(135deg, #ef4444, #dc2626); }
    .training-zone-repetition { background: linear-gradient(135deg, #a855f7, #9333ea); }
    
    .zone-card {
      transition: all 0.3s ease;
      cursor: pointer;
    }
    
    .zone-card:hover {
      transform: translateY(-4px);
      box-shadow: 0 10px 20px rgba(0,0,0,0.1);
    }
    
    .result-table th {
      position: sticky;
      top: 0;
      background: white;
      z-index: 10;
    }
    
    @keyframes slideIn {
      from {
        transform: translateY(20px);
        opacity: 0;
      }
      to {
        transform: translateY(0);
        opacity: 1;
      }
    }
    
    .slide-in {
      animation: slideIn 0.5s ease;
    }
    
    .training-day {
      transition: all 0.3s ease;
    }
    
    .training-day:hover {
      transform: translateX(5px);
    }
    
    .high-intensity {
      border-left: 4px solid #ef4444;
      background: linear-gradient(to right, rgba(239, 68, 68, 0.1), transparent);
    }
    
    .medium-intensity {
      border-left: 4px solid #3b82f6;
      background: linear-gradient(to right, rgba(59, 130, 246, 0.1), transparent);
    }
    
    .low-intensity {
      border-left: 4px solid #10b981;
      background: linear-gradient(to right, rgba(16, 185, 129, 0.1), transparent);
    }
    
    .rest-day {
      border-left: 4px solid #6b7280;
      background: linear-gradient(to right, rgba(107, 114, 128, 0.1), transparent);
    }
  </style>
</head>
<body class="bg-gray-50">
  <div class="min-h-screen">
    <!-- 헤더 -->
    <div class="gradient-bg text-white py-8 px-4 shadow-lg">
      <div class="container mx-auto max-w-6xl">
        <div class="flex items-center justify-between mb-4">
          <h1 class="text-3xl font-bold flex items-center gap-3">
            <i class="fas fa-running"></i>
            훈련 페이스 계산기 Pro
          </h1>
          <div class="flex gap-2">
            <a href="training-calculator-selector.html" class="bg-white/20 hover:bg-white/30 px-4 py-2 rounded-lg transition">
              <i class="fas fa-exchange-alt mr-2"></i>버전 선택
            </a>
            <a href="index.html" class="bg-white/20 hover:bg-white/30 px-4 py-2 rounded-lg transition">
              <i class="fas fa-home mr-2"></i>메인으로
            </a>
          </div>
        </div>
        <div class="flex items-center gap-4">
          <p class="text-lg opacity-90">Jack Daniels VDOT 기반 과학적 훈련 페이스 계산</p>
          <span class="bg-white/20 px-3 py-1 rounded-full text-sm">
            <i class="fas fa-user-check mr-1"></i>개발: 장호준 코치
          </span>
        </div>
      </div>
    </div>

    <div class="container mx-auto max-w-6xl px-4 py-8">
      <!-- 입력 섹션 -->
      <div class="bg-white rounded-xl shadow-lg p-6 mb-8">
        <h2 class="text-2xl font-bold mb-6 flex items-center gap-2">
          <i class="fas fa-calculator text-purple-600"></i>
          기준 기록 입력
        </h2>
        
        <div class="grid md:grid-cols-2 gap-6">
          <!-- 거리 선택 -->
          <div>
            <label class="block text-sm font-semibold text-gray-700 mb-2">
              <i class="fas fa-route text-blue-500 mr-1"></i>
              거리 선택
            </label>
            <select id="distanceSelect" class="w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-purple-500 focus:outline-none text-lg">
              <option value="">거리를 선택하세요</option>
              <optgroup label="트랙 경기">
                <option value="800">800m</option>
                <option value="1500">1500m</option>
                <option value="3000">3000m</option>
                <option value="5000">5000m</option>
                <option value="10000">10000m</option>
              </optgroup>
              <optgroup label="로드 경기">
                <option value="21097.5">하프마라톤</option>
                <option value="42195">풀마라톤</option>
              </optgroup>
            </select>
          </div>
          
          <!-- 시간 입력 -->
          <div>
            <label class="block text-sm font-semibold text-gray-700 mb-2">
              <i class="fas fa-clock text-green-500 mr-1"></i>
              기록 입력
            </label>
            <div class="flex gap-2">
              <div class="flex-1">
                <input type="number" id="hours" min="0" max="23" placeholder="시" 
                       class="w-full px-3 py-3 border-2 border-gray-200 rounded-lg focus:border-purple-500 focus:outline-none text-center text-lg">
                <span class="text-xs text-gray-500 block mt-1 text-center">시간</span>
              </div>
              <div class="flex-1">
                <input type="number" id="minutes" min="0" max="59" placeholder="분" 
                       class="w-full px-3 py-3 border-2 border-gray-200 rounded-lg focus:border-purple-500 focus:outline-none text-center text-lg">
                <span class="text-xs text-gray-500 block mt-1 text-center">분</span>
              </div>
              <div class="flex-1">
                <input type="number" id="seconds" min="0" max="59" step="0.1" placeholder="초" 
                       class="w-full px-3 py-3 border-2 border-gray-200 rounded-lg focus:border-purple-500 focus:outline-none text-center text-lg">
                <span class="text-xs text-gray-500 block mt-1 text-center">초</span>
              </div>
            </div>
          </div>
        </div>
        
        <button onclick="calculateTraining()" class="w-full mt-6 bg-gradient-to-r from-purple-600 to-purple-700 text-white py-3 px-6 rounded-lg font-semibold text-lg hover:from-purple-700 hover:to-purple-800 transition flex items-center justify-center gap-2">
          <i class="fas fa-chart-line"></i>
          훈련 페이스 계산하기
        </button>
      </div>

      <!-- 결과 섹션 (초기 숨김) -->
      <div id="resultsSection" class="hidden">
        <!-- VDOT & 예상 기록 -->
        <div class="grid md:grid-cols-2 gap-6 mb-8 slide-in">
          <!-- VDOT 점수 -->
          <div class="bg-white rounded-xl shadow-lg p-6">
            <h3 class="text-xl font-bold mb-4 flex items-center gap-2">
              <i class="fas fa-award text-yellow-500"></i>
              VDOT 점수
            </h3>
            <div class="text-center">
              <div class="text-5xl font-bold gradient-text mb-2" id="vdotScore">-</div>
              <div class="text-gray-600" id="vdotLevel">-</div>
              <div class="mt-4 p-4 bg-gradient-to-r from-purple-50 to-pink-50 rounded-lg">
                <div class="text-sm text-gray-700">
                  <p class="font-semibold mb-1">VDOT란?</p>
                  <p class="text-xs">최대산소섭취량을 기반으로 한 러닝 능력 지표입니다.</p>
                </div>
              </div>
            </div>
          </div>
          
          <!-- 예상 기록 -->
          <div class="bg-white rounded-xl shadow-lg p-6">
            <h3 class="text-xl font-bold mb-4 flex items-center gap-2">
              <i class="fas fa-trophy text-purple-500"></i>
              주요 거리 예상 기록
            </h3>
            <div class="max-h-64 overflow-y-auto">
              <table class="w-full text-sm result-table">
                <thead>
                  <tr class="bg-gray-100">
                    <th class="px-4 py-2 text-left">거리</th>
                    <th class="px-4 py-2 text-center">예상 기록</th>
                    <th class="px-4 py-2 text-center">km 페이스</th>
                  </tr>
                </thead>
                <tbody id="predictedTimesTable" class="divide-y">
                  <!-- JavaScript로 채워짐 -->
                </tbody>
              </table>
            </div>
          </div>
        </div>

        <!-- 5가지 훈련 구간 -->
        <div class="bg-white rounded-xl shadow-lg p-6 mb-8">
          <h2 class="text-2xl font-bold mb-6 flex items-center gap-2">
            <i class="fas fa-tachometer-alt text-red-500"></i>
            훈련 구간별 페이스
          </h2>
          
          <div class="grid md:grid-cols-5 gap-4 mb-6" id="trainingZones">
            <!-- E (Easy) -->
            <div class="zone-card bg-gradient-to-b from-green-500 to-green-600 rounded-lg p-4 text-white">
              <div class="text-xs opacity-90 mb-1">E (Easy)</div>
              <div class="text-2xl font-bold mb-2" id="easyPace">-</div>
              <div class="text-xs opacity-80">회복/지구력</div>
              <div class="text-xs opacity-80 mt-1">65-79% HRmax</div>
            </div>
            
            <!-- M (Marathon) -->
            <div class="zone-card bg-gradient-to-b from-blue-500 to-blue-600 rounded-lg p-4 text-white">
              <div class="text-xs opacity-90 mb-1">M (Marathon)</div>
              <div class="text-2xl font-bold mb-2" id="marathonPace">-</div>
              <div class="text-xs opacity-80">마라톤 페이스</div>
              <div class="text-xs opacity-80 mt-1">80-90% HRmax</div>
            </div>
            
            <!-- T (Threshold) -->
            <div class="zone-card bg-gradient-to-b from-yellow-500 to-orange-600 rounded-lg p-4 text-white">
              <div class="text-xs opacity-90 mb-1">T (Threshold)</div>
              <div class="text-2xl font-bold mb-2" id="thresholdPace">-</div>
              <div class="text-xs opacity-80">젖산역치</div>
              <div class="text-xs opacity-80 mt-1">88-92% HRmax</div>
            </div>
            
            <!-- I (Interval) -->
            <div class="zone-card bg-gradient-to-b from-red-500 to-red-600 rounded-lg p-4 text-white">
              <div class="text-xs opacity-90 mb-1">I (Interval)</div>
              <div class="text-2xl font-bold mb-2" id="intervalPace">-</div>
              <div class="text-xs opacity-80">VO₂max</div>
              <div class="text-xs opacity-80 mt-1">95-100% HRmax</div>
            </div>
            
            <!-- R (Repetition) -->
            <div class="zone-card bg-gradient-to-b from-purple-500 to-purple-600 rounded-lg p-4 text-white">
              <div class="text-xs opacity-90 mb-1">R (Repetition)</div>
              <div class="text-2xl font-bold mb-2" id="repetitionPace">-</div>
              <div class="text-xs opacity-80">스피드/폼</div>
              <div class="text-xs opacity-80 mt-1">효율성 중심</div>
            </div>
          </div>
        </div>

        <!-- 9-10일 주기 훈련 계획 -->
        <div class="bg-white rounded-xl shadow-lg p-6 mb-8">
          <h2 class="text-2xl font-bold mb-6 flex items-center gap-2">
            <i class="fas fa-calendar-alt text-blue-500"></i>
            9-10일 주기 훈련 계획
          </h2>
          
          <div class="mb-4 p-4 bg-blue-50 rounded-lg border border-blue-200">
            <p class="text-sm text-blue-800">
              <i class="fas fa-info-circle mr-1"></i>
              고강도 훈련 간격은 60-72시간(약 3일)을 유지하여 충분한 회복을 보장합니다.
            </p>
          </div>
          
          <div class="space-y-3" id="trainingPlan">
            <!-- Day 1 -->
            <div class="training-day high-intensity p-4 rounded-lg">
              <div class="flex justify-between items-start">
                <div class="flex-1">
                  <h4 class="font-bold text-lg mb-1">Day 1: 인터벌 훈련 (I)</h4>
                  <p class="text-sm text-gray-700 mb-2">VO₂max 향상을 위한 고강도 훈련</p>
                  <div class="space-y-1 text-sm">
                    <p>🔥 워밍업: 15-20분 Easy 조깅 + 동적 스트레칭</p>
                    <p>💪 메인: <span id="day1Main">1000m × 5회 (I 페이스, 휴식 2-3분)</span></p>
                    <p>❄️ 쿨다운: 10-15분 Easy 조깅 + 정적 스트레칭</p>
                  </div>
                </div>
                <div class="text-2xl text-red-500">
                  <i class="fas fa-fire"></i>
                </div>
              </div>
            </div>
            
            <!-- Day 2 -->
            <div class="training-day low-intensity p-4 rounded-lg">
              <div class="flex justify-between items-start">
                <div class="flex-1">
                  <h4 class="font-bold text-lg mb-1">Day 2: 회복 조깅 (E)</h4>
                  <p class="text-sm text-gray-700 mb-2">적극적 회복</p>
                  <div class="space-y-1 text-sm">
                    <p>🚶 <span id="day2Main">30-40분 Easy 페이스</span></p>
                    <p>💆 보강: 코어 운동 15분</p>
                  </div>
                </div>
                <div class="text-2xl text-green-500">
                  <i class="fas fa-leaf"></i>
                </div>
              </div>
            </div>
            
            <!-- Day 3 -->
            <div class="training-day medium-intensity p-4 rounded-lg">
              <div class="flex justify-between items-start">
                <div class="flex-1">
                  <h4 class="font-bold text-lg mb-1">Day 3: 템포런 (T)</h4>
                  <p class="text-sm text-gray-700 mb-2">젖산역치 향상</p>
                  <div class="space-y-1 text-sm">
                    <p>🔥 워밍업: 15분 Easy 조깅</p>
                    <p>💪 메인: <span id="day3Main">20분 T 페이스</span></p>
                    <p>❄️ 쿨다운: 10분 Easy 조깅</p>
                  </div>
                </div>
                <div class="text-2xl text-orange-500">
                  <i class="fas fa-bolt"></i>
                </div>
              </div>
            </div>
            
            <!-- Day 4 -->
            <div class="training-day low-intensity p-4 rounded-lg">
              <div class="flex justify-between items-start">
                <div class="flex-1">
                  <h4 class="font-bold text-lg mb-1">Day 4: Easy 런 (E)</h4>
                  <p class="text-sm text-gray-700 mb-2">유산소 기초 강화</p>
                  <div class="space-y-1 text-sm">
                    <p>🏃 <span id="day4Main">45-60분 Easy 페이스</span></p>
                    <p>💪 마무리: 스트라이드 6 × 100m</p>
                  </div>
                </div>
                <div class="text-2xl text-green-500">
                  <i class="fas fa-walking"></i>
                </div>
              </div>
            </div>
            
            <!-- Day 5 -->
            <div class="training-day high-intensity p-4 rounded-lg">
              <div class="flex justify-between items-start">
                <div class="flex-1">
                  <h4 class="font-bold text-lg mb-1">Day 5: 반복 훈련 (R)</h4>
                  <p class="text-sm text-gray-700 mb-2">스피드와 러닝 폼 개선</p>
                  <div class="space-y-1 text-sm">
                    <p>🔥 워밍업: 20분 Easy 조깅 + 동적 스트레칭</p>
                    <p>💪 메인: <span id="day5Main">400m × 8회 (R 페이스, 휴식 2분)</span></p>
                    <p>❄️ 쿨다운: 15분 Easy 조깅</p>
                  </div>
                </div>
                <div class="text-2xl text-purple-500">
                  <i class="fas fa-rocket"></i>
                </div>
              </div>
            </div>
            
            <!-- Day 6 -->
            <div class="training-day rest-day p-4 rounded-lg">
              <div class="flex justify-between items-start">
                <div class="flex-1">
                  <h4 class="font-bold text-lg mb-1">Day 6: 완전 휴식</h4>
                  <p class="text-sm text-gray-700 mb-2">신체 회복</p>
                  <div class="space-y-1 text-sm">
                    <p>😴 충분한 수면 (8시간 이상)</p>
                    <p>🥗 영양 섭취 집중</p>
                    <p>💆 가벼운 스트레칭 또는 요가</p>
                  </div>
                </div>
                <div class="text-2xl text-gray-500">
                  <i class="fas fa-bed"></i>
                </div>
              </div>
            </div>
            
            <!-- Day 7 -->
            <div class="training-day medium-intensity p-4 rounded-lg">
              <div class="flex justify-between items-start">
                <div class="flex-1">
                  <h4 class="font-bold text-lg mb-1">Day 7: 장거리 런 (M/E)</h4>
                  <p class="text-sm text-gray-700 mb-2">지구력 향상</p>
                  <div class="space-y-1 text-sm">
                    <p>🏃 <span id="day7Main">90-120분 M/E 페이스 믹스</span></p>
                    <p>💧 수분 보충 필수</p>
                  </div>
                </div>
                <div class="text-2xl text-blue-500">
                  <i class="fas fa-road"></i>
                </div>
              </div>
            </div>
            
            <!-- Day 8 -->
            <div class="training-day low-intensity p-4 rounded-lg">
              <div class="flex justify-between items-start">
                <div class="flex-1">
                  <h4 class="font-bold text-lg mb-1">Day 8: 회복 조깅 (E)</h4>
                  <p class="text-sm text-gray-700 mb-2">적극적 회복</p>
                  <div class="space-y-1 text-sm">
                    <p>🚶 <span id="day8Main">30분 Easy 페이스</span></p>
                    <p>💆 보강: 둔근, 햄스트링 강화 운동</p>
                  </div>
                </div>
                <div class="text-2xl text-green-500">
                  <i class="fas fa-spa"></i>
                </div>
              </div>
            </div>
            
            <!-- Day 9 -->
            <div class="training-day high-intensity p-4 rounded-lg">
              <div class="flex justify-between items-start">
                <div class="flex-1">
                  <h4 class="font-bold text-lg mb-1">Day 9: 혼합 인터벌 (I/T)</h4>
                  <p class="text-sm text-gray-700 mb-2">다양한 속도 자극</p>
                  <div class="space-y-1 text-sm">
                    <p>🔥 워밍업: 15분 Easy 조깅</p>
                    <p>💪 메인: <span id="day9Main">3 × 1600m (T) + 4 × 400m (I)</span></p>
                    <p>❄️ 쿨다운: 10분 Easy 조깅</p>
                  </div>
                </div>
                <div class="text-2xl text-red-500">
                  <i class="fas fa-fire-alt"></i>
                </div>
              </div>
            </div>
            
            <!-- Day 10 -->
            <div class="training-day rest-day p-4 rounded-lg">
              <div class="flex justify-between items-start">
                <div class="flex-1">
                  <h4 class="font-bold text-lg mb-1">Day 10: 완전 휴식 또는 크로스 트레이닝</h4>
                  <p class="text-sm text-gray-700 mb-2">다음 주기 준비</p>
                  <div class="space-y-1 text-sm">
                    <p>🏊 선택: 수영 30분</p>
                    <p>🚴 선택: 자전거 45분</p>
                    <p>😴 또는 완전 휴식</p>
                  </div>
                </div>
                <div class="text-2xl text-gray-500">
                  <i class="fas fa-sync-alt"></i>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- 중요 사항 -->
        <div class="bg-white rounded-xl shadow-lg p-6 mb-8">
          <h2 class="text-2xl font-bold mb-6 flex items-center gap-2">
            <i class="fas fa-exclamation-triangle text-yellow-500"></i>
            훈련 시 중요 사항
          </h2>
          
          <div class="grid md:grid-cols-2 gap-6">
            <!-- 워밍업 & 쿨다운 -->
            <div class="p-4 bg-yellow-50 rounded-lg border border-yellow-200">
              <h3 class="font-bold text-lg mb-3 text-yellow-800">
                <i class="fas fa-fire mr-2"></i>워밍업 & 쿨다운
              </h3>
              <ul class="space-y-2 text-sm text-gray-700">
                <li>• 모든 고강도 훈련 전 15-20분 워밍업 필수</li>
                <li>• 동적 스트레칭으로 관절 가동범위 확보</li>
                <li>• 훈련 후 10-15분 쿨다운으로 젖산 제거</li>
                <li>• 정적 스트레칭으로 유연성 향상</li>
              </ul>
            </div>
            
            <!-- 보강 운동 -->
            <div class="p-4 bg-green-50 rounded-lg border border-green-200">
              <h3 class="font-bold text-lg mb-3 text-green-800">
                <i class="fas fa-dumbbell mr-2"></i>보강 운동 (주 2회)
              </h3>
              <ul class="space-y-2 text-sm text-gray-700">
                <li>• 코어: 플랭크, 사이드 플랭크, 버드독</li>
                <li>• 둔근: 브릿지, 클램셸, 스쿼트</li>
                <li>• 햄스트링: 데드리프트, 레그컬</li>
                <li>• 종아리: 카프레이즈, 점프 운동</li>
              </ul>
            </div>
            
            <!-- 영양 & 수분 -->
            <div class="p-4 bg-blue-50 rounded-lg border border-blue-200">
              <h3 class="font-bold text-lg mb-3 text-blue-800">
                <i class="fas fa-apple-alt mr-2"></i>영양 & 수분
              </h3>
              <ul class="space-y-2 text-sm text-gray-700">
                <li>• 훈련 전: 탄수화물 위주 식사 (2-3시간 전)</li>
                <li>• 훈련 중: 1시간 이상 시 스포츠음료</li>
                <li>• 훈련 후: 30분 내 탄수화물+단백질 섭취</li>
                <li>• 일일 수분: 체중 1kg당 35-40ml</li>
              </ul>
            </div>
            
            <!-- 휴식 & 회복 -->
            <div class="p-4 bg-purple-50 rounded-lg border border-purple-200">
              <h3 class="font-bold text-lg mb-3 text-purple-800">
                <i class="fas fa-bed mr-2"></i>휴식 & 회복
              </h3>
              <ul class="space-y-2 text-sm text-gray-700">
                <li>• 매일 7-9시간 수면 확보</li>
                <li>• 고강도 훈련 간 60-72시간 간격 유지</li>
                <li>• 피로감 누적 시 즉시 휴식일 추가</li>
                <li>• 마사지, 폼롤러로 근막 이완</li>
              </ul>
            </div>
          </div>
          
          <!-- 개인화 안내 -->
          <div class="mt-6 p-4 bg-gray-100 rounded-lg">
            <p class="text-sm text-gray-700">
              <i class="fas fa-info-circle text-blue-500 mr-2"></i>
              <strong>개인화 원칙:</strong> 이 계획은 일반적인 가이드라인입니다. 
              개인의 피로도, 컨디션, 날씨, 경기 일정 등을 고려하여 훈련 강도와 거리를 유연하게 조절하세요. 
              부상 예방이 최우선이며, 몸의 신호를 주의 깊게 관찰하면서 훈련하세요.
            </p>
          </div>
        </div>

        <!-- 개발자 정보 -->
        <div class="text-center py-6 border-t">
          <p class="text-gray-600">
            <i class="fas fa-code mr-2"></i>
            개발: <span class="font-bold">장호준 코치</span> | 
            VDOT 시스템 기반 과학적 훈련 프로그램
          </p>
        </div>
      </div>
    </div>
  </div>

  <script>
    // VDOT 테이블 (간소화된 버전)
    const vdotTable = {
      30: { 800: 234, 1500: 462, 3000: 978, 5000: 1680, 10000: 3480, 21097.5: 7680, 42195: 16020 },
      35: { 800: 210, 1500: 414, 3000: 876, 5000: 1500, 10000: 3105, 21097.5: 6825, 42195: 14220 },
      40: { 800: 192, 1500: 378, 3000: 798, 5000: 1365, 10000: 2820, 21097.5: 6180, 42195: 12840 },
      45: { 800: 177, 1500: 348, 3000: 732, 5000: 1251, 10000: 2580, 21097.5: 5640, 42195: 11700 },
      50: { 800: 164, 1500: 322, 3000: 677, 5000: 1155, 10000: 2376, 21097.5: 5184, 42195: 10740 },
      55: { 800: 153, 1500: 300, 3000: 630, 5000: 1073, 10000: 2205, 21097.5: 4800, 42195: 9930 },
      60: { 800: 143, 1500: 280, 3000: 588, 5000: 1001, 10000: 2055, 21097.5: 4470, 42195: 9240 },
      65: { 800: 134, 1500: 262, 3000: 551, 5000: 937, 10000: 1922, 21097.5: 4176, 42195: 8628 },
      70: { 800: 126, 1500: 247, 3000: 518, 5000: 880, 10000: 1803, 21097.5: 3912, 42195: 8076 },
      75: { 800: 119, 1500: 233, 3000: 488, 5000: 829, 10000: 1695, 21097.5: 3675, 42195: 7575 },
      80: { 800: 112, 1500: 220, 3000: 461, 5000: 782, 10000: 1598, 21097.5: 3462, 42195: 7128 },
      85: { 800: 106, 1500: 208, 3000: 436, 5000: 740, 10000: 1510, 21097.5: 3267, 42195: 6720 }
    };

    function calculateVDOT(distance, timeInSeconds) {
      let closestVDOT = 30;
      let minDiff = Infinity;
      
      for (const [vdot, times] of Object.entries(vdotTable)) {
        if (times[distance]) {
          const diff = Math.abs(times[distance] - timeInSeconds);
          if (diff < minDiff) {
            minDiff = diff;
            closestVDOT = parseInt(vdot);
          }
        }
      }
      
      // 보간법으로 더 정확한 VDOT 계산
      if (closestVDOT < 85 && vdotTable[closestVDOT + 5]) {
        const lowerTime = vdotTable[closestVDOT][distance];
        const upperTime = vdotTable[closestVDOT + 5][distance];
        if (timeInSeconds >= upperTime && timeInSeconds <= lowerTime) {
          const ratio = (lowerTime - timeInSeconds) / (lowerTime - upperTime);
          return closestVDOT + ratio * 5;
        }
      }
      
      return closestVDOT;
    }

    function getVDOTLevel(vdot) {
      if (vdot >= 75) return "엘리트 선수";
      if (vdot >= 65) return "준엘리트 선수";
      if (vdot >= 55) return "상급자";
      if (vdot >= 45) return "중급자";
      if (vdot >= 35) return "초급자";
      return "입문자";
    }

    function formatTime(seconds) {
      const hours = Math.floor(seconds / 3600);
      const minutes = Math.floor((seconds % 3600) / 60);
      const secs = Math.floor(seconds % 60);
      
      if (hours > 0) {
        return `${hours}:${String(minutes).padStart(2, '0')}:${String(secs).padStart(2, '0')}`;
      }
      return `${minutes}:${String(secs).padStart(2, '0')}`;
    }

    function formatPace(secondsPerKm) {
      const minutes = Math.floor(secondsPerKm / 60);
      const seconds = Math.floor(secondsPerKm % 60);
      return `${minutes}:${String(seconds).padStart(2, '0')}`;
    }

    function calculateTrainingPaces(vdot) {
      // Jack Daniels 공식 기반 훈련 페이스 계산
      const vdotFloat = parseFloat(vdot);
      
      return {
        easy: {
          min: Math.round(360 - (vdotFloat - 30) * 3.5),
          max: Math.round(330 - (vdotFloat - 30) * 3.2)
        },
        marathon: Math.round(280 - (vdotFloat - 30) * 2.8),
        threshold: Math.round(265 - (vdotFloat - 30) * 2.6),
        interval: Math.round(245 - (vdotFloat - 30) * 2.4),
        repetition: Math.round(225 - (vdotFloat - 30) * 2.2)
      };
    }

    function updateTrainingPlan(vdot) {
      const level = getVDOTLevel(vdot);
      const plans = {
        "엘리트 선수": {
          day1: "1200m × 5회 (I 페이스, 휴식 3분)",
          day3: "30분 T 페이스",
          day4: "60-75분 Easy 페이스",
          day5: "400m × 10회 (R 페이스, 휴식 2분)",
          day7: "120-150분 M/E 페이스 믹스",
          day9: "4 × 2000m (T) + 4 × 400m (I)"
        },
        "준엘리트 선수": {
          day1: "1000m × 5회 (I 페이스, 휴식 3분)",
          day3: "25분 T 페이스",
          day4: "50-60분 Easy 페이스",
          day5: "400m × 8회 (R 페이스, 휴식 2분)",
          day7: "90-120분 M/E 페이스 믹스",
          day9: "3 × 1600m (T) + 4 × 400m (I)"
        },
        "상급자": {
          day1: "800m × 5회 (I 페이스, 휴식 2-3분)",
          day3: "20분 T 페이스",
          day4: "45-60분 Easy 페이스",
          day5: "400m × 6회 (R 페이스, 휴식 2분)",
          day7: "75-90분 M/E 페이스 믹스",
          day9: "3 × 1200m (T) + 3 × 400m (I)"
        },
        "중급자": {
          day1: "600m × 5회 (I 페이스, 휴식 2분)",
          day3: "15분 T 페이스",
          day4: "40-50분 Easy 페이스",
          day5: "300m × 6회 (R 페이스, 휴식 90초)",
          day7: "60-75분 E 페이스",
          day9: "2 × 1200m (T) + 3 × 300m (I)"
        },
        "초급자": {
          day1: "400m × 5회 (I 페이스, 휴식 2분)",
          day3: "10분 T 페이스",
          day4: "30-40분 Easy 페이스",
          day5: "200m × 6회 (R 페이스, 휴식 90초)",
          day7: "45-60분 E 페이스",
          day9: "2 × 800m (T) + 3 × 200m (I)"
        },
        "입문자": {
          day1: "300m × 4회 (I 페이스, 휴식 2분)",
          day3: "8분 T 페이스",
          day4: "25-35분 Easy 페이스",
          day5: "150m × 5회 (R 페이스, 휴식 90초)",
          day7: "30-45분 E 페이스",
          day9: "2 × 600m (T) + 2 × 200m (I)"
        }
      };

      const plan = plans[level] || plans["초급자"];
      
      document.getElementById('day1Main').textContent = plan.day1;
      document.getElementById('day2Main').textContent = "30-40분 Easy 페이스";
      document.getElementById('day3Main').textContent = plan.day3;
      document.getElementById('day4Main').textContent = plan.day4;
      document.getElementById('day5Main').textContent = plan.day5;
      document.getElementById('day7Main').textContent = plan.day7;
      document.getElementById('day8Main').textContent = "30분 Easy 페이스";
      document.getElementById('day9Main').textContent = plan.day9;
    }

    function calculateTraining() {
      const distance = parseFloat(document.getElementById('distanceSelect').value);
      const hours = parseInt(document.getElementById('hours').value) || 0;
      const minutes = parseInt(document.getElementById('minutes').value) || 0;
      const seconds = parseFloat(document.getElementById('seconds').value) || 0;
      
      if (!distance || (hours === 0 && minutes === 0 && seconds === 0)) {
        alert('거리와 시간을 모두 입력해주세요.');
        return;
      }
      
      const totalSeconds = hours * 3600 + minutes * 60 + seconds;
      const vdot = calculateVDOT(distance, totalSeconds);
      
      // VDOT 점수 표시
      document.getElementById('vdotScore').textContent = vdot.toFixed(1);
      document.getElementById('vdotLevel').textContent = getVDOTLevel(vdot);
      
      // 예상 기록 계산
      const predictedTimes = document.getElementById('predictedTimesTable');
      predictedTimes.innerHTML = '';
      
      const distances = [
        { name: '800m', value: 800 },
        { name: '1500m', value: 1500 },
        { name: '3000m', value: 3000 },
        { name: '5km', value: 5000 },
        { name: '10km', value: 10000 },
        { name: '하프마라톤', value: 21097.5 },
        { name: '풀마라톤', value: 42195 }
      ];
      
      const vdotLower = Math.floor(vdot / 5) * 5;
      const vdotUpper = vdotLower + 5;
      const ratio = (vdot - vdotLower) / 5;
      
      distances.forEach(d => {
        if (vdotTable[vdotLower] && vdotTable[vdotLower][d.value]) {
          let predictedTime;
          if (vdotTable[vdotUpper] && vdotTable[vdotUpper][d.value]) {
            const lowerTime = vdotTable[vdotLower][d.value];
            const upperTime = vdotTable[vdotUpper][d.value];
            predictedTime = lowerTime - ratio * (lowerTime - upperTime);
          } else {
            predictedTime = vdotTable[vdotLower][d.value];
          }
          
          const pace = predictedTime / (d.value / 1000);
          
          const row = predictedTimes.insertRow();
          row.className = d.value === distance ? 'bg-yellow-50 font-bold' : '';
          row.innerHTML = `
            <td class="px-4 py-2">${d.name}</td>
            <td class="px-4 py-2 text-center">${formatTime(predictedTime)}</td>
            <td class="px-4 py-2 text-center">${formatPace(pace)}/km</td>
          `;
        }
      });
      
      // 훈련 페이스 계산
      const paces = calculateTrainingPaces(vdot);
      
      document.getElementById('easyPace').textContent = 
        `${formatPace(paces.easy.max)}-${formatPace(paces.easy.min)}`;
      document.getElementById('marathonPace').textContent = formatPace(paces.marathon);
      document.getElementById('thresholdPace').textContent = formatPace(paces.threshold);
      document.getElementById('intervalPace').textContent = formatPace(paces.interval);
      document.getElementById('repetitionPace').textContent = formatPace(paces.repetition);
      
      // 훈련 계획 업데이트
      updateTrainingPlan(vdot);
      
      // 결과 섹션 표시
      document.getElementById('resultsSection').classList.remove('hidden');
      document.getElementById('resultsSection').scrollIntoView({ behavior: 'smooth' });
    }

    // 엔터키 지원
    document.addEventListener('keypress', function(e) {
      if (e.key === 'Enter') {
        calculateTraining();
      }
    });
  </script>
</body>
</html>