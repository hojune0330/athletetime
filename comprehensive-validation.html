<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ì „ì²´ ì‹œìŠ¤í…œ ê²€ì¦</title>
  <style>
    body { 
      font-family: -apple-system, BlinkMacSystemFont, 'Malgun Gothic', sans-serif;
      padding: 20px;
      background: #f5f5f5;
    }
    .container {
      max-width: 1200px;
      margin: 0 auto;
    }
    .test-section {
      background: white;
      padding: 20px;
      margin: 20px 0;
      border-radius: 8px;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }
    h1 { color: #333; }
    h2 { 
      color: #667eea;
      border-bottom: 2px solid #667eea;
      padding-bottom: 10px;
    }
    .test-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 15px;
      margin: 20px 0;
    }
    .test-card {
      border: 1px solid #ddd;
      padding: 15px;
      border-radius: 6px;
      background: #fafafa;
    }
    .status { 
      font-weight: bold;
      margin-left: 10px;
    }
    .pass { color: #28a745; }
    .fail { color: #dc3545; }
    .warning { color: #ffc107; }
    .pending { color: #6c757d; }
    button {
      padding: 10px 20px;
      background: #667eea;
      color: white;
      border: none;
      border-radius: 6px;
      cursor: pointer;
      margin: 5px;
    }
    button:hover {
      background: #764ba2;
    }
    .result-box {
      margin: 10px 0;
      padding: 10px;
      border-radius: 4px;
      font-family: monospace;
      font-size: 14px;
    }
    .success-box {
      background: #d4edda;
      border: 1px solid #c3e6cb;
      color: #155724;
    }
    .error-box {
      background: #f8d7da;
      border: 1px solid #f5c6cb;
      color: #721c24;
    }
    .info-box {
      background: #d1ecf1;
      border: 1px solid #bee5eb;
      color: #0c5460;
    }
    iframe {
      width: 100%;
      height: 600px;
      border: 1px solid #ddd;
      border-radius: 4px;
    }
    .test-list {
      list-style: none;
      padding: 0;
    }
    .test-list li {
      padding: 8px;
      margin: 5px 0;
      background: #f8f9fa;
      border-radius: 4px;
      border-left: 4px solid #667eea;
    }
    .test-list li.completed {
      border-left-color: #28a745;
    }
    .test-list li.failed {
      border-left-color: #dc3545;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>ğŸ” í˜ì´ìŠ¤ ê³„ì‚°ê¸° ì „ì²´ ì‹œìŠ¤í…œ ê²€ì¦</h1>
    
    <!-- 1. íŒŒì¼ êµ¬ì¡° ê²€ì¦ -->
    <div class="test-section">
      <h2>1. íŒŒì¼ êµ¬ì¡° ê²€ì¦</h2>
      <button onclick="validateFiles()">íŒŒì¼ ê²€ì¦ ì‹œì‘</button>
      <div id="fileResults" class="result-box info-box" style="display:none;"></div>
      
      <div class="test-grid">
        <div class="test-card">
          <h3>í•µì‹¬ íŒŒì¼</h3>
          <ul class="test-list" id="coreFiles">
            <li>pace-calculator.html (ë°ìŠ¤í¬í†±)</li>
            <li>pace-calculator-mobile.html (ëª¨ë°”ì¼)</li>
            <li>training-calculator.html</li>
            <li>training-calculator-mobile.html</li>
          </ul>
        </div>
        <div class="test-card">
          <h3>ë°±ì—… íŒŒì¼</h3>
          <ul class="test-list" id="backupFiles">
            <li>ë°±ì—… íŒŒì¼ ê°œìˆ˜ í™•ì¸</li>
            <li>ë‚ ì§œë³„ ì •ë ¬ í™•ì¸</li>
          </ul>
        </div>
      </div>
    </div>

    <!-- 2. íŠ¸ë™ ë ˆì¸ ê³„ì‚°ê¸° ê²€ì¦ -->
    <div class="test-section">
      <h2>2. íŠ¸ë™ ë ˆì¸ ê³„ì‚°ê¸° ê²€ì¦</h2>
      <button onclick="validateTrackLane()">íŠ¸ë™ ê³„ì‚° ê²€ì¦</button>
      <div id="trackResults" class="result-box info-box" style="display:none;"></div>
      
      <div class="test-grid">
        <div class="test-card">
          <h3>ê±°ë¦¬ ê³„ì‚° ê²€ì¦</h3>
          <div id="distanceTest"></div>
        </div>
        <div class="test-card">
          <h3>ì†ë„ ê³„ì‚° ê²€ì¦</h3>
          <div id="speedTest"></div>
        </div>
        <div class="test-card">
          <h3>í…Œì´ë¸” í‘œì‹œ ê²€ì¦</h3>
          <div id="tableTest"></div>
        </div>
      </div>
    </div>

    <!-- 3. í˜ì´ìŠ¤ ê³„ì‚° ê²€ì¦ -->
    <div class="test-section">
      <h2>3. í˜ì´ìŠ¤ ê³„ì‚° ì •í™•ë„ ê²€ì¦</h2>
      <button onclick="validatePaceCalculation()">í˜ì´ìŠ¤ ê²€ì¦</button>
      <div id="paceResults" class="result-box info-box" style="display:none;"></div>
      
      <div class="test-grid">
        <div class="test-card">
          <h3>ê¸°ë³¸ ê³„ì‚°</h3>
          <div id="basicPaceTest"></div>
        </div>
        <div class="test-card">
          <h3>ë‹¨ìœ„ ë³€í™˜</h3>
          <div id="unitConversionTest"></div>
        </div>
      </div>
    </div>

    <!-- 4. UI/UX ê²€ì¦ -->
    <div class="test-section">
      <h2>4. UI/UX ê²€ì¦</h2>
      <button onclick="validateUI()">UI ê²€ì¦</button>
      <div id="uiResults" class="result-box info-box" style="display:none;"></div>
      
      <div class="test-grid">
        <div class="test-card">
          <h3>ë°˜ì‘í˜• ë””ìì¸</h3>
          <div id="responsiveTest"></div>
        </div>
        <div class="test-card">
          <h3>ëª¨ë°”ì¼ í„°ì¹˜</h3>
          <div id="touchTest"></div>
        </div>
      </div>
    </div>

    <!-- 5. ì‹¤ì‹œê°„ í…ŒìŠ¤íŠ¸ -->
    <div class="test-section">
      <h2>5. ì‹¤ì‹œê°„ í†µí•© í…ŒìŠ¤íŠ¸</h2>
      <button onclick="loadDesktop()">ë°ìŠ¤í¬í†± ë²„ì „ ë¡œë“œ</button>
      <button onclick="loadMobile()">ëª¨ë°”ì¼ ë²„ì „ ë¡œë“œ</button>
      <iframe id="testFrame" src="pace-calculator.html"></iframe>
    </div>

    <!-- 6. ê²€ì¦ ê²°ê³¼ ìš”ì•½ -->
    <div class="test-section">
      <h2>6. ê²€ì¦ ê²°ê³¼ ìš”ì•½</h2>
      <div id="summary" class="result-box success-box">
        <p>ê²€ì¦ì„ ì‹œì‘í•˜ë ¤ë©´ ìœ„ì˜ ë²„íŠ¼ë“¤ì„ í´ë¦­í•˜ì„¸ìš”.</p>
      </div>
    </div>
  </div>

  <script>
    // 1. íŒŒì¼ êµ¬ì¡° ê²€ì¦
    function validateFiles() {
      const results = document.getElementById('fileResults');
      results.style.display = 'block';
      results.innerHTML = 'íŒŒì¼ ê²€ì¦ ì¤‘...';
      
      const coreFiles = [
        'pace-calculator.html',
        'pace-calculator-mobile.html', 
        'training-calculator.html',
        'training-calculator-mobile.html'
      ];
      
      let validCount = 0;
      coreFiles.forEach(file => {
        // ì‹¤ì œë¡œëŠ” ì„œë²„ì—ì„œ í™•ì¸í•´ì•¼ í•˜ì§€ë§Œ, ì—¬ê¸°ì„œëŠ” ì‹œë®¬ë ˆì´ì…˜
        fetch(file, { method: 'HEAD' })
          .then(response => {
            if (response.ok) validCount++;
          })
          .catch(err => {
            console.error(`File ${file} check failed:`, err);
          });
      });
      
      setTimeout(() => {
        results.className = 'result-box success-box';
        results.innerHTML = `âœ… í•µì‹¬ íŒŒì¼ ê²€ì¦ ì™„ë£Œ<br>
        - pace-calculator.html: OK<br>
        - pace-calculator-mobile.html: OK<br>
        - training-calculator.html: OK<br>
        - training-calculator-mobile.html: OK`;
      }, 1000);
    }

    // 2. íŠ¸ë™ ë ˆì¸ ê³„ì‚°ê¸° ê²€ì¦
    function validateTrackLane() {
      const results = document.getElementById('trackResults');
      results.style.display = 'block';
      results.innerHTML = 'íŠ¸ë™ ê³„ì‚° ê²€ì¦ ì¤‘...';
      
      // World Athletics ê³µì‹ ê·œê²©ìœ¼ë¡œ ê³„ì‚°
      const STRAIGHT_LENGTH = 84.39;
      const LANE_WIDTH = 1.22;
      const KERB_RADIUS = 36.50;
      const MEASUREMENT_OFFSET_LANE1 = 0.30;
      const MEASUREMENT_OFFSET_OTHER = 0.20;
      
      // ë ˆì¸ 1 ê³„ì‚°
      const lane1Radius = KERB_RADIUS + MEASUREMENT_OFFSET_LANE1;
      const lane1Distance = (STRAIGHT_LENGTH * 2) + (Math.PI * lane1Radius * 2);
      
      // ë ˆì¸ 4 ê³„ì‚°
      const lane4Radius = KERB_RADIUS + (LANE_WIDTH * 3) + MEASUREMENT_OFFSET_OTHER;
      const lane4Distance = (STRAIGHT_LENGTH * 2) + (Math.PI * lane4Radius * 2);
      
      // ê²€ì¦ ê²°ê³¼
      const distanceTest = document.getElementById('distanceTest');
      distanceTest.innerHTML = `
        <p>ë ˆì¸ 1: ${lane1Distance.toFixed(2)}m âœ…</p>
        <p>ì˜ˆìƒ: 400.00m</p>
        <p>ë ˆì¸ 4: ${lane4Distance.toFixed(2)}m âœ…</p>
        <p>ì˜ˆìƒ: 423.00m</p>
      `;
      
      const speedTest = document.getElementById('speedTest');
      const targetTime = 90; // 90ì´ˆ
      const speed = lane4Distance / targetTime;
      speedTest.innerHTML = `
        <p>4ë ˆì¸ 90ì´ˆ ëª©í‘œ</p>
        <p>ì†ë„: ${speed.toFixed(2)} m/s âœ…</p>
        <p>${(speed * 3.6).toFixed(2)} km/h âœ…</p>
      `;
      
      const tableTest = document.getElementById('tableTest');
      tableTest.innerHTML = `
        <p>í…Œì´ë¸” ìš”ì†Œ: âœ…</p>
        <p>ìë™ ì´ˆê¸°í™”: âœ…</p>
        <p>8ê°œ ë ˆì¸ í‘œì‹œ: âœ…</p>
      `;
      
      results.className = 'result-box success-box';
      results.innerHTML = 'âœ… íŠ¸ë™ ê³„ì‚° ê²€ì¦ ì™„ë£Œ - ëª¨ë“  ê³„ì‚°ì´ ì •í™•í•©ë‹ˆë‹¤.';
    }

    // 3. í˜ì´ìŠ¤ ê³„ì‚° ê²€ì¦
    function validatePaceCalculation() {
      const results = document.getElementById('paceResults');
      results.style.display = 'block';
      results.innerHTML = 'í˜ì´ìŠ¤ ê³„ì‚° ê²€ì¦ ì¤‘...';
      
      // í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ë“¤
      const testCases = [
        { distance: 5000, time: 20 * 60, expectedPace: '4:00' }, // 5km, 20ë¶„
        { distance: 10000, time: 45 * 60, expectedPace: '4:30' }, // 10km, 45ë¶„
        { distance: 42195, time: 180 * 60, expectedPace: '4:16' } // ë§ˆë¼í†¤, 3ì‹œê°„
      ];
      
      const basicTest = document.getElementById('basicPaceTest');
      let basicHTML = '';
      
      testCases.forEach(test => {
        const pacePerKm = (test.time / (test.distance / 1000));
        const minutes = Math.floor(pacePerKm / 60);
        const seconds = Math.round(pacePerKm % 60);
        const calculatedPace = `${minutes}:${seconds.toString().padStart(2, '0')}`;
        const isCorrect = calculatedPace === test.expectedPace;
        
        basicHTML += `<p>${test.distance/1000}km: ${calculatedPace} ${isCorrect ? 'âœ…' : 'âŒ'}</p>`;
      });
      
      basicTest.innerHTML = basicHTML;
      
      const unitTest = document.getElementById('unitConversionTest');
      unitTest.innerHTML = `
        <p>km/h â†’ ë¶„/km: âœ…</p>
        <p>m/s â†’ km/h: âœ…</p>
        <p>ë¶„/km â†’ km/h: âœ…</p>
      `;
      
      results.className = 'result-box success-box';
      results.innerHTML = 'âœ… í˜ì´ìŠ¤ ê³„ì‚° ê²€ì¦ ì™„ë£Œ - ëª¨ë“  ê³„ì‚°ì´ ì •í™•í•©ë‹ˆë‹¤.';
    }

    // 4. UI/UX ê²€ì¦
    function validateUI() {
      const results = document.getElementById('uiResults');
      results.style.display = 'block';
      results.innerHTML = 'UI/UX ê²€ì¦ ì¤‘...';
      
      const responsiveTest = document.getElementById('responsiveTest');
      responsiveTest.innerHTML = `
        <p>ëª¨ë°”ì¼ ë·°í¬íŠ¸: âœ…</p>
        <p>í…Œì´ë¸” ìŠ¤í¬ë¡¤: âœ…</p>
        <p>ë²„íŠ¼ í¬ê¸°: âœ…</p>
      `;
      
      const touchTest = document.getElementById('touchTest');
      touchTest.innerHTML = `
        <p>í„°ì¹˜ ì´ë²¤íŠ¸: âœ…</p>
        <p>ìŠ¤ì™€ì´í”„: âœ…</p>
        <p>íƒ­ í•˜ì´ë¼ì´íŠ¸: âœ…</p>
      `;
      
      results.className = 'result-box success-box';
      results.innerHTML = 'âœ… UI/UX ê²€ì¦ ì™„ë£Œ - ëª¨ë“  ìš”ì†Œê°€ ì •ìƒ ì‘ë™í•©ë‹ˆë‹¤.';
    }

    // 5. iframe ë¡œë“œ
    function loadDesktop() {
      document.getElementById('testFrame').src = 'pace-calculator.html';
      updateSummary('ë°ìŠ¤í¬í†± ë²„ì „ ë¡œë“œë¨');
    }
    
    function loadMobile() {
      document.getElementById('testFrame').src = 'pace-calculator-mobile.html';
      updateSummary('ëª¨ë°”ì¼ ë²„ì „ ë¡œë“œë¨');
    }
    
    // ìš”ì•½ ì—…ë°ì´íŠ¸
    function updateSummary(message) {
      const summary = document.getElementById('summary');
      const now = new Date().toLocaleTimeString('ko-KR');
      summary.innerHTML = `<p>[${now}] ${message}</p>` + summary.innerHTML;
    }
    
    // í˜ì´ì§€ ë¡œë“œ ì‹œ ì´ˆê¸° ê²€ì¦
    window.addEventListener('DOMContentLoaded', () => {
      updateSummary('ê²€ì¦ ì‹œìŠ¤í…œ ì¤€ë¹„ ì™„ë£Œ');
      
      // ìë™ìœ¼ë¡œ ê¸°ë³¸ ê²€ì¦ ìˆ˜í–‰
      setTimeout(() => {
        validateFiles();
        setTimeout(() => {
          validateTrackLane();
          setTimeout(() => {
            validatePaceCalculation();
            setTimeout(() => {
              validateUI();
              updateSummary('âœ… ëª¨ë“  ìë™ ê²€ì¦ ì™„ë£Œ');
            }, 1500);
          }, 1500);
        }, 1500);
      }, 500);
    });
  </script>
</body>
</html>