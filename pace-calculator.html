<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>ëŸ¬ë‹ í˜ì´ìŠ¤ ê³„ì‚°ê¸° | ì• ìŠ¬ë¦¬íŠ¸ íƒ€ì„</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css">
  <style>
    body { 
      font-family: -apple-system, BlinkMacSystemFont, 'Malgun Gothic', 'ë§‘ì€ ê³ ë”•', sans-serif;
      -webkit-tap-highlight-color: transparent;
    }
    
    .gradient-text {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
    }
    
    .card-hover {
      transition: all 0.3s ease;
    }
    
    .card-hover:hover {
      transform: translateY(-2px);
      box-shadow: 0 10px 20px rgba(0,0,0,0.1);
    }
    
    .pace-table {
      font-size: 12px;
    }
    
    .pace-table td, .pace-table th {
      padding: 6px;
      text-align: center;
      border: 1px solid #e5e7eb;
      white-space: nowrap;
    }
    
    .pace-table th {
      background: #f3f4f6;
      font-weight: bold;
    }
    
    .pace-table .highlight-row {
      background: #fef3c7;
    }
    
    .pace-table .sub-highlight {
      background: #dbeafe;
    }
    
    .pace-table .highlight-cell {
      background: #fbbf24;
      font-weight: bold;
    }
    
    .lane-track {
      background: linear-gradient(135deg, #f97316 0%, #dc2626 100%);
      color: white;
    }
    
    input[type="number"]::-webkit-inner-spin-button,
    input[type="number"]::-webkit-outer-spin-button {
      opacity: 1;
      height: 40px;
    }
    
    .tab-active {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
    }
    
    @media print {
      .no-print { display: none; }
      .pace-table { page-break-inside: avoid; }
    }
    
    .table-container {
      overflow-x: auto;
      -webkit-overflow-scrolling: touch;
    }

    .pace-header {
      position: sticky;
      left: 0;
      background: white;
      z-index: 1;
      box-shadow: 2px 0 4px rgba(0,0,0,0.1);
    }

    @media (max-width: 768px) {
      .pace-table {
        font-size: 10px;
      }
      .pace-table td, .pace-table th {
        padding: 4px;
      }
    }
  </style>
</head>
<body class="bg-gray-50">
  
  <!-- Header -->
  <header class="bg-gradient-to-r from-orange-500 to-red-600 text-white p-4 sticky top-0 z-10 no-print">
    <div class="max-w-6xl mx-auto flex items-center justify-between">
      <div class="flex items-center gap-3">
        <button onclick="goBack()" class="p-1">
          <i class="fas fa-arrow-left text-lg"></i>
        </button>
        <h1 class="text-xl font-bold">ëŸ¬ë‹ í˜ì´ìŠ¤ ê³„ì‚°ê¸°</h1>
      </div>
      <button onclick="window.print()" class="p-2 hover:bg-white/20 rounded-lg">
        <i class="fas fa-print"></i>
      </button>
    </div>
  </header>

  <div class="max-w-6xl mx-auto p-4 pb-20">
    
    <!-- íƒ­ ë©”ë‰´ -->
    <div class="flex gap-2 mb-6 overflow-x-auto no-print">
      <button onclick="switchTab('chart')" id="tab-chart" class="tab-btn px-4 py-2 rounded-lg font-medium whitespace-nowrap tab-active">
        <i class="fas fa-table mr-2"></i>í˜ì´ìŠ¤ ì°¨íŠ¸
      </button>
      <button onclick="switchTab('lane')" id="tab-lane" class="tab-btn px-4 py-2 rounded-lg font-medium whitespace-nowrap bg-white">
        <i class="fas fa-road mr-2"></i>ë ˆì¸ë³„ ê³„ì‚°
      </button>
      <button onclick="switchTab('target')" id="tab-target" class="tab-btn px-4 py-2 rounded-lg font-medium whitespace-nowrap bg-white">
        <i class="fas fa-bullseye mr-2"></i>ëª©í‘œ í˜ì´ìŠ¤
      </button>
      <button onclick="switchTab('split')" id="tab-split" class="tab-btn px-4 py-2 rounded-lg font-medium whitespace-nowrap bg-white">
        <i class="fas fa-chart-line mr-2"></i>ìŠ¤í”Œë¦¿ ê³„ì‚°
      </button>
    </div>

    <!-- í˜ì´ìŠ¤ ì°¨íŠ¸ íƒ­ -->
    <div id="chart-content" class="tab-content">
      <!-- ê°œë°œì ì •ë³´ -->
      <div class="bg-gradient-to-r from-purple-100 to-blue-100 rounded-lg p-4 mb-6">
        <div class="flex items-center justify-between">
          <div>
            <h3 class="font-bold text-purple-900">ğŸƒâ€â™‚ï¸ ëŸ¬ë‹ í˜ì´ìŠ¤ ì°¨íŠ¸</h3>
            <p class="text-sm text-purple-700 mt-1">ê³¼í•™ì  í›ˆë ¨ì„ ìœ„í•œ ì •ë°€ í˜ì´ìŠ¤ ë¶„ì„ ë„êµ¬</p>
          </div>
          <div class="text-right">
            <p class="text-xs text-purple-600">ê°œë°œì</p>
            <p class="font-bold text-purple-900">ì¥í˜¸ì¤€ ì½”ì¹˜</p>
          </div>
        </div>
      </div>

      <!-- ì°¨íŠ¸ 1: KM í˜ì´ìŠ¤ë³„ ê±°ë¦¬ í™˜ì‚°í‘œ -->
      <div class="bg-white rounded-lg shadow-md p-4 mb-6">
        <h3 class="text-lg font-bold mb-3 flex items-center justify-between">
          <span>
            <i class="fas fa-tachometer-alt text-blue-500 mr-2"></i>
            í‚¬ë¡œë¯¸í„° í˜ì´ìŠ¤ â†’ ê±°ë¦¬ë³„ ì™„ì£¼ ì‹œê°„
          </span>
          <span class="text-xs font-normal text-gray-500">ë‹¨ìœ„: ë¶„:ì´ˆ</span>
        </h3>
        
        <div class="bg-blue-50 border-l-4 border-blue-500 p-3 mb-4">
          <h4 class="font-bold text-blue-900 text-sm mb-1">ğŸ“– ì´ ì°¨íŠ¸ëŠ” ì–¸ì œ ì‚¬ìš©í•˜ë‚˜ìš”?</h4>
          <p class="text-xs text-blue-800 leading-relaxed">
            <strong>"ë‚´ê°€ kmë‹¹ 4ë¶„ í˜ì´ìŠ¤ë¡œ ë›°ë©´..."</strong> ì´ë¼ê³  ìƒê°í•  ë•Œ ì‚¬ìš©í•©ë‹ˆë‹¤.<br>
            â€¢ ì˜ˆ: kmë‹¹ 4ë¶„ í˜ì´ìŠ¤ â†’ 5kmëŠ” 20ë¶„, 10kmëŠ” 40ë¶„, í•˜í”„ëŠ” 1:24:23<br>
            â€¢ í›ˆë ¨ ì‹œ ëª©í‘œ í˜ì´ìŠ¤ë¥¼ ì •í•˜ê³  ê° ê±°ë¦¬ë³„ í†µê³¼ ì‹œê°„ì„ í™•ì¸í•  ë•Œ í™œìš©í•˜ì„¸ìš”.
          </p>
        </div>
        
        <div class="table-container">
          <table class="pace-table w-full">
            <thead>
              <tr>
                <th class="pace-header">km í˜ì´ìŠ¤</th>
                <th>100m</th>
                <th>200m</th>
                <th>400m</th>
                <th>800m</th>
                <th>1km</th>
                <th>3km</th>
                <th class="bg-yellow-50">5km</th>
                <th class="bg-green-50">10km</th>
                <th>15km</th>
                <th class="bg-blue-50">í•˜í”„</th>
                <th>30km</th>
                <th class="bg-purple-50">í’€ì½”ìŠ¤</th>
              </tr>
            </thead>
            <tbody id="paceChartBody1">
              <!-- JavaScriptë¡œ ì±„ì›Œì§ -->
            </tbody>
          </table>
        </div>
      </div>

      <!-- ì°¨íŠ¸ 2: ëª©í‘œ ê¸°ë¡ë³„ í˜ì´ìŠ¤ ë¶„ì„í‘œ -->
      <div class="bg-white rounded-lg shadow-md p-4 mb-6">
        <h3 class="text-lg font-bold mb-3">
          <i class="fas fa-trophy text-orange-500 mr-2"></i>
          ëª©í‘œ ê¸°ë¡ë³„ í•„ìš” í˜ì´ìŠ¤ ë¶„ì„
        </h3>
        
        <div class="bg-orange-50 border-l-4 border-orange-500 p-3 mb-4">
          <h4 class="font-bold text-orange-900 text-sm mb-1">ğŸ¯ ì´ ì°¨íŠ¸ëŠ” ì–¸ì œ ì‚¬ìš©í•˜ë‚˜ìš”?</h4>
          <p class="text-xs text-orange-800 leading-relaxed">
            <strong>"5kmë¥¼ 20ë¶„ì— ì™„ì£¼í•˜ë ¤ë©´..."</strong> ì´ë¼ê³  ìƒê°í•  ë•Œ ì‚¬ìš©í•©ë‹ˆë‹¤.<br>
            â€¢ ëŒ€íšŒ ëª©í‘œ ê¸°ë¡ì„ ì„¤ì •í•˜ê³  í•„ìš”í•œ í˜ì´ìŠ¤ë¥¼ í™•ì¸í•  ë•Œ<br>
            â€¢ ì¸ê¸° ëª©í‘œ ì‹œê°„ë³„ë¡œ km í˜ì´ìŠ¤, 400m ë©íƒ€ì„, ì†ë„ë¥¼ í•œëˆˆì— í™•ì¸ ê°€ëŠ¥
          </p>
        </div>

        <!-- 5km ëª©í‘œ ê¸°ë¡ -->
        <h4 class="font-bold text-sm mb-2 text-gray-700">ğŸƒ 5km ëª©í‘œ ê¸°ë¡</h4>
        <div class="table-container mb-4">
          <table class="pace-table w-full">
            <thead>
              <tr>
                <th>ëª©í‘œ ê¸°ë¡</th>
                <th>km í˜ì´ìŠ¤</th>
                <th>400m ë©</th>
                <th>100m</th>
                <th>ì†ë„(km/h)</th>
                <th>ë¹„ê³ </th>
              </tr>
            </thead>
            <tbody id="target5kmTable">
              <!-- JavaScriptë¡œ ì±„ì›Œì§ -->
            </tbody>
          </table>
        </div>

        <!-- 10km ëª©í‘œ ê¸°ë¡ -->
        <h4 class="font-bold text-sm mb-2 text-gray-700">ğŸƒ 10km ëª©í‘œ ê¸°ë¡</h4>
        <div class="table-container mb-4">
          <table class="pace-table w-full">
            <thead>
              <tr>
                <th>ëª©í‘œ ê¸°ë¡</th>
                <th>km í˜ì´ìŠ¤</th>
                <th>400m ë©</th>
                <th>5km í†µê³¼</th>
                <th>ì†ë„(km/h)</th>
                <th>ë¹„ê³ </th>
              </tr>
            </thead>
            <tbody id="target10kmTable">
              <!-- JavaScriptë¡œ ì±„ì›Œì§ -->
            </tbody>
          </table>
        </div>

        <!-- í•˜í”„ë§ˆë¼í†¤ ëª©í‘œ ê¸°ë¡ -->
        <h4 class="font-bold text-sm mb-2 text-gray-700">ğŸƒ í•˜í”„ë§ˆë¼í†¤ ëª©í‘œ ê¸°ë¡</h4>
        <div class="table-container mb-4">
          <table class="pace-table w-full">
            <thead>
              <tr>
                <th>ëª©í‘œ ê¸°ë¡</th>
                <th>km í˜ì´ìŠ¤</th>
                <th>400m ë©</th>
                <th>5km í†µê³¼</th>
                <th>10km í†µê³¼</th>
                <th>ì†ë„(km/h)</th>
                <th>ë¹„ê³ </th>
              </tr>
            </thead>
            <tbody id="targetHalfTable">
              <!-- JavaScriptë¡œ ì±„ì›Œì§ -->
            </tbody>
          </table>
        </div>

        <!-- í’€ë§ˆë¼í†¤ ëª©í‘œ ê¸°ë¡ -->
        <h4 class="font-bold text-sm mb-2 text-gray-700">ğŸƒ í’€ë§ˆë¼í†¤ ëª©í‘œ ê¸°ë¡</h4>
        <div class="table-container">
          <table class="pace-table w-full">
            <thead>
              <tr>
                <th>ëª©í‘œ ê¸°ë¡</th>
                <th>km í˜ì´ìŠ¤</th>
                <th>400m ë©</th>
                <th>10km í†µê³¼</th>
                <th>í•˜í”„ í†µê³¼</th>
                <th>30km í†µê³¼</th>
                <th>ì†ë„(km/h)</th>
                <th>ë¹„ê³ </th>
              </tr>
            </thead>
            <tbody id="targetFullTable">
              <!-- JavaScriptë¡œ ì±„ì›Œì§ -->
            </tbody>
          </table>
        </div>
      </div>

      <!-- ì°¨íŠ¸ 3: 400m íŠ¸ë™ ë ˆì¸ë³„ ë³´ì • ì‹œê°„ -->
      <div class="bg-white rounded-lg shadow-md p-4">
        <h3 class="text-lg font-bold mb-3">
          <i class="fas fa-route text-green-500 mr-2"></i>
          400m íŠ¸ë™ ë ˆì¸ë³„ ê±°ë¦¬ & ì‹œê°„ ë³´ì •í‘œ
        </h3>
        
        <div class="bg-green-50 border-l-4 border-green-500 p-3 mb-4">
          <h4 class="font-bold text-green-900 text-sm mb-1">ğŸŸï¸ ì´ ì°¨íŠ¸ëŠ” ì–¸ì œ ì‚¬ìš©í•˜ë‚˜ìš”?</h4>
          <p class="text-xs text-green-800 leading-relaxed">
            <strong>íŠ¸ë™ì—ì„œ í›ˆë ¨í•  ë•Œ</strong> ê° ë ˆì¸ì˜ ì‹¤ì œ ê±°ë¦¬ë¥¼ í™•ì¸í•©ë‹ˆë‹¤.<br>
            â€¢ 1ë ˆì¸ì€ ì •í™•íˆ 400m, 8ë ˆì¸ì€ 453m (13% ë” ê¹€)<br>
            â€¢ ì¸í„°ë²Œ í›ˆë ¨ ì‹œ ë ˆì¸ë³„ë¡œ ëª©í‘œ ì‹œê°„ì„ ì¡°ì •í•´ì•¼ í•  ë•Œ ì‚¬ìš©í•˜ì„¸ìš”.
          </p>
        </div>

        <div class="table-container">
          <table class="pace-table w-full">
            <thead>
              <tr>
                <th rowspan="2">km í˜ì´ìŠ¤</th>
                <th rowspan="2">400m<br>(1ë ˆì¸)</th>
                <th colspan="7">ì™¸ì¸¡ ë ˆì¸ ë³´ì • ì‹œê°„</th>
              </tr>
              <tr>
                <th class="text-xs">2ë ˆì¸<br>407m</th>
                <th class="text-xs">3ë ˆì¸<br>415m</th>
                <th class="text-xs">4ë ˆì¸<br>422m</th>
                <th class="text-xs">5ë ˆì¸<br>430m</th>
                <th class="text-xs">6ë ˆì¸<br>438m</th>
                <th class="text-xs">7ë ˆì¸<br>445m</th>
                <th class="text-xs">8ë ˆì¸<br>453m</th>
              </tr>
            </thead>
            <tbody id="laneChartTable">
              <!-- JavaScriptë¡œ ì±„ì›Œì§ -->
            </tbody>
          </table>
        </div>
      </div>
    </div>

    <!-- ë ˆì¸ ê³„ì‚°ê¸° íƒ­ -->
    <div id="lane-content" class="tab-content hidden">
      <div class="bg-white rounded-lg shadow-md p-6 card-hover">
        <h2 class="text-xl font-bold mb-4">
          <i class="fas fa-road text-orange-500"></i> 400m íŠ¸ë™ ë ˆì¸ë³„ ê±°ë¦¬ ê³„ì‚°ê¸°
        </h2>
        
        <div class="bg-orange-50 border-l-4 border-orange-500 p-4 mb-6">
          <p class="text-sm text-orange-800">
            <strong>IAAF ê³µì‹ ê·œê²©:</strong> 1ë ˆì¸ ë°˜ê²½ 36.5m ê¸°ì¤€, ë ˆì¸ í­ 1.22m
          </p>
        </div>
        
        <div class="grid grid-cols-2 gap-4 mb-6">
          <div>
            <label class="block text-sm font-medium text-gray-700 mb-1">ë ˆì¸ ì„ íƒ</label>
            <select id="laneNumber" onchange="calculateLane()" class="w-full px-3 py-2 border border-gray-300 rounded-lg">
              <option value="1">1ë²ˆ ë ˆì¸</option>
              <option value="2">2ë²ˆ ë ˆì¸</option>
              <option value="3">3ë²ˆ ë ˆì¸</option>
              <option value="4">4ë²ˆ ë ˆì¸</option>
              <option value="5">5ë²ˆ ë ˆì¸</option>
              <option value="6">6ë²ˆ ë ˆì¸</option>
              <option value="7">7ë²ˆ ë ˆì¸</option>
              <option value="8">8ë²ˆ ë ˆì¸</option>
            </select>
          </div>
          
          <div>
            <label class="block text-sm font-medium text-gray-700 mb-1">ë°”í€´ ìˆ˜</label>
            <input type="number" id="laps" value="1" min="0.5" step="0.5" onchange="calculateLane()" 
                   class="w-full px-3 py-2 border border-gray-300 rounded-lg">
          </div>
        </div>
        
        <div id="laneResults" class="space-y-3">
          <!-- ê²°ê³¼ê°€ ì—¬ê¸° í‘œì‹œë¨ -->
        </div>
        
        <!-- ëª¨ë“  ë ˆì¸ ë¹„êµ í…Œì´ë¸” -->
        <div class="mt-6 pt-6 border-t">
          <h3 class="font-bold mb-3">ëª¨ë“  ë ˆì¸ ë¹„êµí‘œ</h3>
          <div class="overflow-x-auto">
            <table class="w-full text-sm">
              <thead class="bg-gray-100">
                <tr>
                  <th class="p-2">ë ˆì¸</th>
                  <th class="p-2">1ë°”í€´(m)</th>
                  <th class="p-2">ì¶”ê°€ê±°ë¦¬(m)</th>
                  <th class="p-2">ë¹„ìœ¨(%)</th>
                </tr>
              </thead>
              <tbody id="allLanesTable">
                <!-- ë™ì ìœ¼ë¡œ ìƒì„±ë¨ -->
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>

    <!-- ëª©í‘œ í˜ì´ìŠ¤ íƒ­ -->
    <div id="target-content" class="tab-content hidden">
      <div class="bg-white rounded-lg shadow-md p-6 card-hover">
        <h2 class="text-xl font-bold mb-4">
          <i class="fas fa-bullseye text-blue-500"></i> ëª©í‘œ í˜ì´ìŠ¤ ê³„ì‚°ê¸°
        </h2>
        
        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
          <div>
            <label class="block text-sm font-medium text-gray-700 mb-1">ëª©í‘œ ê±°ë¦¬</label>
            <select id="targetDistance" class="w-full px-3 py-2 border border-gray-300 rounded-lg">
              <option value="100">100m</option>
              <option value="200">200m</option>
              <option value="400">400m</option>
              <option value="800">800m</option>
              <option value="1500">1500m</option>
              <option value="3000">3000m</option>
              <option value="5000" selected>5000m (5km)</option>
              <option value="10000">10000m (10km)</option>
              <option value="21097.5">í•˜í”„ë§ˆë¼í†¤</option>
              <option value="42195">í’€ë§ˆë¼í†¤</option>
              <option value="custom">ì§ì ‘ ì…ë ¥</option>
            </select>
            <input type="number" id="customDistance" placeholder="ê±°ë¦¬ ì…ë ¥ (m)" 
                   class="w-full px-3 py-2 border border-gray-300 rounded-lg mt-2 hidden">
          </div>
          
          <div>
            <label class="block text-sm font-medium text-gray-700 mb-1">ëª©í‘œ ì‹œê°„</label>
            <div class="flex gap-2">
              <input type="number" id="targetHours" placeholder="ì‹œ" min="0" max="23" 
                     class="w-1/3 px-3 py-2 border border-gray-300 rounded-lg">
              <input type="number" id="targetMinutes" placeholder="ë¶„" min="0" max="59" 
                     class="w-1/3 px-3 py-2 border border-gray-300 rounded-lg">
              <input type="number" id="targetSeconds" placeholder="ì´ˆ" min="0" max="59" step="0.1" 
                     class="w-1/3 px-3 py-2 border border-gray-300 rounded-lg">
            </div>
          </div>
        </div>
        
        <button onclick="calculateTargetPace()" 
                class="w-full mt-4 bg-gradient-to-r from-blue-500 to-purple-600 text-white py-3 rounded-lg font-medium hover:opacity-90 transition">
          í˜ì´ìŠ¤ ê³„ì‚°í•˜ê¸°
        </button>
        
        <div id="targetResults" class="mt-6 hidden">
          <div class="bg-blue-50 rounded-lg p-4">
            <h3 class="font-bold mb-3">í˜ì´ìŠ¤ ë¶„ì„ ê²°ê³¼</h3>
            <div class="grid grid-cols-2 gap-4 text-sm">
              <div>
                <span class="text-gray-600">400m ë©:</span>
                <span class="font-mono font-bold ml-2" id="lap400">-</span>
              </div>
              <div>
                <span class="text-gray-600">100m í˜ì´ìŠ¤:</span>
                <span class="font-mono font-bold ml-2" id="pace100m">-</span>
              </div>
              <div>
                <span class="text-gray-600">1km í˜ì´ìŠ¤:</span>
                <span class="font-mono font-bold ml-2" id="pace1km">-</span>
              </div>
              <div>
                <span class="text-gray-600">í‰ê·  ì†ë„:</span>
                <span class="font-mono font-bold ml-2" id="avgSpeed">-</span>
              </div>
            </div>
            
            <div class="mt-4 pt-4 border-t">
              <h4 class="font-medium mb-2">ë© ìŠ¤í”Œë¦¿</h4>
              <div class="space-y-1 text-sm" id="lapSplits">
                <!-- ë™ì ìœ¼ë¡œ ìƒì„±ë¨ -->
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- ìŠ¤í”Œë¦¿ ê³„ì‚°ê¸° íƒ­ -->
    <div id="split-content" class="tab-content hidden">
      <div class="bg-white rounded-lg shadow-md p-6 card-hover">
        <h2 class="text-xl font-bold mb-4">
          <i class="fas fa-chart-line text-green-500"></i> ìŠ¤í”Œë¦¿ ê³„ì‚°ê¸°
        </h2>
        
        <div class="space-y-4">
          <div class="grid grid-cols-2 gap-4">
            <div>
              <label class="block text-sm font-medium text-gray-700 mb-1">ì´ ê±°ë¦¬ (m)</label>
              <input type="number" id="splitTotalDistance" value="5000" 
                     class="w-full px-3 py-2 border border-gray-300 rounded-lg">
            </div>
            <div>
              <label class="block text-sm font-medium text-gray-700 mb-1">êµ¬ê°„ ê±°ë¦¬ (m)</label>
              <input type="number" id="splitInterval" value="1000" 
                     class="w-full px-3 py-2 border border-gray-300 rounded-lg">
            </div>
          </div>
          
          <div>
            <label class="block text-sm font-medium text-gray-700 mb-1">ëª©í‘œ ì‹œê°„</label>
            <div class="flex gap-2">
              <input type="number" id="splitHours" placeholder="ì‹œ" min="0" 
                     class="w-1/3 px-3 py-2 border border-gray-300 rounded-lg">
              <input type="number" id="splitMinutes" placeholder="ë¶„" min="0" 
                     class="w-1/3 px-3 py-2 border border-gray-300 rounded-lg">
              <input type="number" id="splitSeconds" placeholder="ì´ˆ" min="0" step="0.1" 
                     class="w-1/3 px-3 py-2 border border-gray-300 rounded-lg">
            </div>
          </div>
          
          <div>
            <label class="block text-sm font-medium text-gray-700 mb-1">í˜ì´ìŠ¤ ì „ëµ</label>
            <select id="paceStrategy" class="w-full px-3 py-2 border border-gray-300 rounded-lg">
              <option value="even">ê· ë“± í˜ì´ìŠ¤ (Even)</option>
              <option value="negative">ë„¤ê±°í‹°ë¸Œ ìŠ¤í”Œë¦¿ (í›„ë°˜ ê°€ì†)</option>
              <option value="positive">í¬ì§€í‹°ë¸Œ ìŠ¤í”Œë¦¿ (ì „ë°˜ ì†ë„)</option>
            </select>
          </div>
        </div>
        
        <button onclick="calculateSplits()" 
                class="w-full mt-4 bg-gradient-to-r from-green-500 to-teal-600 text-white py-3 rounded-lg font-medium hover:opacity-90 transition">
          ìŠ¤í”Œë¦¿ ê³„ì‚°í•˜ê¸°
        </button>
        
        <div id="splitResults" class="mt-6 hidden">
          <div id="splitTable" class="overflow-x-auto">
            <!-- ë™ì ìœ¼ë¡œ ìƒì„±ë¨ -->
          </div>
        </div>
      </div>
    </div>
    
  </div>

  <script>
    // IAAF í‘œì¤€ ë ˆì¸ ê±°ë¦¬
    const laneDistances = {
      1: 400.00,
      2: 407.04,
      3: 414.70,
      4: 422.37,
      5: 430.03,
      6: 437.70,
      7: 445.37,
      8: 453.03
    };

    // ì‹œê°„ í¬ë§·íŒ… í•¨ìˆ˜
    function formatTime(seconds, forceHours = false) {
      if (isNaN(seconds) || seconds === null) return '-';
      
      const hours = Math.floor(seconds / 3600);
      const mins = Math.floor((seconds % 3600) / 60);
      const secs = seconds % 60;
      
      if (hours > 0 || forceHours) {
        return `${hours}:${String(mins).padStart(2, '0')}:${String(Math.floor(secs)).padStart(2, '0')}`;
      } else if (mins > 0) {
        return `${mins}:${String(Math.floor(secs)).padStart(2, '0')}`;
      } else {
        return secs.toFixed(1);
      }
    }

    // í˜ì´ìŠ¤ë¥¼ ë¶„:ì´ˆ í˜•ì‹ìœ¼ë¡œ í¬ë§·
    function formatPace(secondsPerKm) {
      const mins = Math.floor(secondsPerKm / 60);
      const secs = Math.floor(secondsPerKm % 60);
      return `${mins}:${String(secs).padStart(2, '0')}`;
    }

    // íƒ­ ì „í™˜
    function switchTab(tabName) {
      // ëª¨ë“  íƒ­ ë‚´ìš© ìˆ¨ê¸°ê¸°
      document.querySelectorAll('.tab-content').forEach(content => {
        content.classList.add('hidden');
      });
      
      // ëª¨ë“  íƒ­ ë²„íŠ¼ ë¹„í™œì„±í™”
      document.querySelectorAll('.tab-btn').forEach(btn => {
        btn.classList.remove('tab-active');
        btn.classList.add('bg-white');
      });
      
      // ì„ íƒí•œ íƒ­ í™œì„±í™”
      document.getElementById(`${tabName}-content`).classList.remove('hidden');
      document.getElementById(`tab-${tabName}`).classList.add('tab-active');
      document.getElementById(`tab-${tabName}`).classList.remove('bg-white');
      
      // ì°¨íŠ¸ê°€ ì„ íƒë˜ë©´ ì°¨íŠ¸ ìƒì„±
      if (tabName === 'chart') {
        generatePaceChart1();
        generateTargetTables();
        generateLaneChart();
      } else if (tabName === 'lane') {
        calculateLane();
        generateAllLanesTable();
      }
    }

    // ì°¨íŠ¸ 1: KM í˜ì´ìŠ¤ë³„ ê±°ë¦¬ í™˜ì‚°í‘œ
    function generatePaceChart1() {
      const tbody = document.getElementById('paceChartBody1');
      tbody.innerHTML = '';
      
      // km í˜ì´ìŠ¤ ëª©ë¡ (2:30ë¶€í„° 8:00ê¹Œì§€ 10ì´ˆ ê°„ê²©)
      const paces = [];
      for (let seconds = 150; seconds <= 480; seconds += 10) {
        paces.push(seconds);
      }
      
      paces.forEach((pacePerKm, index) => {
        const row = tbody.insertRow();
        
        // ì£¼ìš” í˜ì´ìŠ¤ í•˜ì´ë¼ì´íŠ¸
        if (pacePerKm === 180 || pacePerKm === 240 || pacePerKm === 300 || pacePerKm === 360 || pacePerKm === 420) {
          row.className = 'highlight-row';
        } else if (pacePerKm === 210 || pacePerKm === 270 || pacePerKm === 330 || pacePerKm === 390 || pacePerKm === 450) {
          row.className = 'sub-highlight';
        }
        
        // km í˜ì´ìŠ¤ (ì²« ë²ˆì§¸ ì—´)
        let cell = row.insertCell();
        cell.textContent = formatPace(pacePerKm);
        cell.className = 'pace-header font-bold';
        
        // ê° ê±°ë¦¬ë³„ ì‹œê°„ ê³„ì‚°
        const distances = [100, 200, 400, 800, 1000, 3000, 5000, 10000, 15000, 21097.5, 30000, 42195];
        distances.forEach((distance, i) => {
          const time = (pacePerKm / 1000) * distance;
          cell = row.insertCell();
          cell.textContent = formatTime(time);
          
          // ì£¼ìš” ê±°ë¦¬ ì»¬ëŸ¼ ìƒ‰ìƒ
          if (i === 6) cell.className = 'bg-yellow-50'; // 5km
          if (i === 7) cell.className = 'bg-green-50';  // 10km
          if (i === 9) cell.className = 'bg-blue-50';   // í•˜í”„
          if (i === 11) cell.className = 'bg-purple-50'; // í’€
        });
      });
    }

    // ì°¨íŠ¸ 2: ëª©í‘œ ê¸°ë¡ë³„ í…Œì´ë¸”ë“¤
    function generateTargetTables() {
      // 5km ëª©í‘œ ê¸°ë¡
      const targets5km = [
        { time: 13 * 60, label: 'ì„¸ê³„ ì—˜ë¦¬íŠ¸', highlight: true },
        { time: 14 * 60, label: 'êµ­ê°€ëŒ€í‘œ' },
        { time: 15 * 60, label: 'ì—˜ë¦¬íŠ¸', highlight: true },
        { time: 16 * 60, label: 'ì¤€ì—˜ë¦¬íŠ¸' },
        { time: 17 * 60, label: 'ìµœìƒê¸‰' },
        { time: 18 * 60, label: 'ìƒê¸‰' },
        { time: 19 * 60, label: 'ì¤‘ìƒê¸‰' },
        { time: 20 * 60, label: 'ì„œë¸Œ 20', highlight: true },
        { time: 22 * 60, label: 'ì¤‘ê¸‰' },
        { time: 25 * 60, label: 'ì´ˆì¤‘ê¸‰', highlight: true },
        { time: 28 * 60, label: 'ì´ˆê¸‰' },
        { time: 30 * 60, label: 'ì…ë¬¸', highlight: true },
        { time: 35 * 60, label: 'ì™„ì£¼ ëª©í‘œ' },
        { time: 40 * 60, label: 'ê±´ê°• ì¡°ê¹…', highlight: true }
      ];
      
      const tbody5km = document.getElementById('target5kmTable');
      tbody5km.innerHTML = '';
      
      targets5km.forEach(target => {
        const row = tbody5km.insertRow();
        if (target.highlight) row.className = 'highlight-row';
        
        const pacePerKm = target.time / 5;
        const pace400m = pacePerKm * 0.4;
        const pace100m = pacePerKm * 0.1;
        const speed = 5000 / target.time * 3.6;
        
        row.innerHTML = `
          <td class="font-bold">${formatTime(target.time)}</td>
          <td>${formatPace(pacePerKm)}</td>
          <td>${formatTime(pace400m)}</td>
          <td>${formatTime(pace100m)}</td>
          <td>${speed.toFixed(1)}</td>
          <td class="text-xs">${target.label}</td>
        `;
      });
      
      // 10km ëª©í‘œ ê¸°ë¡
      const targets10km = [
        { time: 27 * 60, label: 'ì„¸ê³„ ì—˜ë¦¬íŠ¸', highlight: true },
        { time: 29 * 60, label: 'êµ­ê°€ëŒ€í‘œ' },
        { time: 31 * 60, label: 'ì—˜ë¦¬íŠ¸', highlight: true },
        { time: 33 * 60, label: 'ì¤€ì—˜ë¦¬íŠ¸' },
        { time: 35 * 60, label: 'ìƒê¸‰' },
        { time: 38 * 60, label: 'ì¤‘ìƒê¸‰' },
        { time: 40 * 60, label: 'ì„œë¸Œ 40', highlight: true },
        { time: 45 * 60, label: 'ì¤‘ê¸‰' },
        { time: 50 * 60, label: 'ì„œë¸Œ 50', highlight: true },
        { time: 55 * 60, label: 'ì´ˆê¸‰' },
        { time: 60 * 60, label: 'ì„œë¸Œ 1ì‹œê°„', highlight: true },
        { time: 70 * 60, label: 'ì™„ì£¼ ëª©í‘œ' },
        { time: 80 * 60, label: 'ê±´ê°• ì¡°ê¹…', highlight: true }
      ];
      
      const tbody10km = document.getElementById('target10kmTable');
      tbody10km.innerHTML = '';
      
      targets10km.forEach(target => {
        const row = tbody10km.insertRow();
        if (target.highlight) row.className = 'highlight-row';
        
        const pacePerKm = target.time / 10;
        const pace400m = pacePerKm * 0.4;
        const time5km = target.time / 2;
        const speed = 10000 / target.time * 3.6;
        
        row.innerHTML = `
          <td class="font-bold">${formatTime(target.time)}</td>
          <td>${formatPace(pacePerKm)}</td>
          <td>${formatTime(pace400m)}</td>
          <td>${formatTime(time5km)}</td>
          <td>${speed.toFixed(1)}</td>
          <td class="text-xs">${target.label}</td>
        `;
      });
      
      // í•˜í”„ë§ˆë¼í†¤ ëª©í‘œ ê¸°ë¡
      const targetsHalf = [
        { time: 60 * 60, label: 'ì„¸ê³„ ì—˜ë¦¬íŠ¸', highlight: true },
        { time: 65 * 60, label: 'êµ­ê°€ëŒ€í‘œ' },
        { time: 70 * 60, label: 'ì—˜ë¦¬íŠ¸', highlight: true },
        { time: 75 * 60, label: 'ì¤€ì—˜ë¦¬íŠ¸' },
        { time: 80 * 60, label: 'ìƒê¸‰' },
        { time: 85 * 60, label: 'ì¤‘ìƒê¸‰' },
        { time: 90 * 60, label: 'ì„œë¸Œ 1:30', highlight: true },
        { time: 100 * 60, label: 'ì¤‘ê¸‰' },
        { time: 110 * 60, label: 'ì´ˆì¤‘ê¸‰', highlight: true },
        { time: 120 * 60, label: 'ì„œë¸Œ 2:00', highlight: true },
        { time: 130 * 60, label: 'ì´ˆê¸‰' },
        { time: 140 * 60, label: 'ì…ë¬¸' },
        { time: 150 * 60, label: 'ì„œë¸Œ 2:30', highlight: true },
        { time: 160 * 60, label: 'ì™„ì£¼ ëª©í‘œ' },
        { time: 180 * 60, label: 'ê±´ê°• ì¡°ê¹…', highlight: true }
      ];
      
      const tbodyHalf = document.getElementById('targetHalfTable');
      tbodyHalf.innerHTML = '';
      
      targetsHalf.forEach(target => {
        const row = tbodyHalf.insertRow();
        if (target.highlight) row.className = 'highlight-row';
        
        const pacePerKm = target.time / 21.0975;
        const pace400m = pacePerKm * 0.4;
        const time5km = pacePerKm * 5;
        const time10km = pacePerKm * 10;
        const speed = 21097.5 / target.time * 3.6;
        
        row.innerHTML = `
          <td class="font-bold">${formatTime(target.time)}</td>
          <td>${formatPace(pacePerKm)}</td>
          <td>${formatTime(pace400m)}</td>
          <td>${formatTime(time5km)}</td>
          <td>${formatTime(time10km)}</td>
          <td>${speed.toFixed(1)}</td>
          <td class="text-xs">${target.label}</td>
        `;
      });
      
      // í’€ë§ˆë¼í†¤ ëª©í‘œ ê¸°ë¡
      const targetsFull = [
        { time: 125 * 60, label: 'ì„¸ê³„ ì—˜ë¦¬íŠ¸', highlight: true },
        { time: 135 * 60, label: 'êµ­ê°€ëŒ€í‘œ' },
        { time: 150 * 60, label: 'ì—˜ë¦¬íŠ¸', highlight: true },
        { time: 165 * 60, label: 'ì¤€ì—˜ë¦¬íŠ¸' },
        { time: 180 * 60, label: 'ì„œë¸Œ 3', highlight: true },
        { time: 195 * 60, label: 'ì¤‘ìƒê¸‰' },
        { time: 210 * 60, label: 'ì„œë¸Œ 3:30', highlight: true },
        { time: 225 * 60, label: 'ì¤‘ê¸‰' },
        { time: 240 * 60, label: 'ì„œë¸Œ 4', highlight: true },
        { time: 255 * 60, label: 'ì´ˆì¤‘ê¸‰' },
        { time: 270 * 60, label: 'ì„œë¸Œ 4:30', highlight: true },
        { time: 285 * 60, label: 'ì´ˆê¸‰' },
        { time: 300 * 60, label: 'ì„œë¸Œ 5', highlight: true },
        { time: 330 * 60, label: 'ì„œë¸Œ 5:30' },
        { time: 360 * 60, label: 'ì„œë¸Œ 6', highlight: true },
        { time: 390 * 60, label: 'ì™„ì£¼ ëª©í‘œ' },
        { time: 420 * 60, label: 'ê±´ê°• ì™„ì£¼', highlight: true }
      ];
      
      const tbodyFull = document.getElementById('targetFullTable');
      tbodyFull.innerHTML = '';
      
      targetsFull.forEach(target => {
        const row = tbodyFull.insertRow();
        if (target.highlight) row.className = 'highlight-row';
        
        const pacePerKm = target.time / 42.195;
        const pace400m = pacePerKm * 0.4;
        const time10km = pacePerKm * 10;
        const timeHalf = pacePerKm * 21.0975;
        const time30km = pacePerKm * 30;
        const speed = 42195 / target.time * 3.6;
        
        row.innerHTML = `
          <td class="font-bold">${formatTime(target.time, true)}</td>
          <td>${formatPace(pacePerKm)}</td>
          <td>${formatTime(pace400m)}</td>
          <td>${formatTime(time10km)}</td>
          <td>${formatTime(timeHalf)}</td>
          <td>${formatTime(time30km)}</td>
          <td>${speed.toFixed(1)}</td>
          <td class="text-xs">${target.label}</td>
        `;
      });
    }

    // ì°¨íŠ¸ 3: ë ˆì¸ë³„ ë³´ì • ì‹œê°„
    function generateLaneChart() {
      const tbody = document.getElementById('laneChartTable');
      tbody.innerHTML = '';
      
      // km í˜ì´ìŠ¤ ëª©ë¡ (2:30ë¶€í„° 6:00ê¹Œì§€ 10ì´ˆ ê°„ê²©)
      const paces = [];
      for (let seconds = 150; seconds <= 360; seconds += 10) {
        paces.push(seconds);
      }
      
      paces.forEach((pacePerKm) => {
        const row = tbody.insertRow();
        
        // ì£¼ìš” í˜ì´ìŠ¤ í•˜ì´ë¼ì´íŠ¸
        if (pacePerKm === 180 || pacePerKm === 240 || pacePerKm === 300 || pacePerKm === 360) {
          row.className = 'highlight-row';
        }
        
        // km í˜ì´ìŠ¤
        let cell = row.insertCell();
        cell.textContent = formatPace(pacePerKm);
        cell.className = 'font-bold';
        
        // 1ë ˆì¸ 400m ì‹œê°„
        const time400 = pacePerKm * 0.4;
        cell = row.insertCell();
        cell.textContent = formatTime(time400);
        cell.className = 'font-bold bg-yellow-50';
        
        // 2-8ë ˆì¸ ë³´ì • ì‹œê°„
        for (let lane = 2; lane <= 8; lane++) {
          const laneTime = (pacePerKm / 1000) * laneDistances[lane];
          cell = row.insertCell();
          cell.textContent = formatTime(laneTime);
        }
      });
    }

    // ë ˆì¸ ê³„ì‚°
    function calculateLane() {
      const laneNumber = parseInt(document.getElementById('laneNumber').value);
      const laps = parseFloat(document.getElementById('laps').value);
      
      const distance = laneDistances[laneNumber];
      const totalDistance = distance * laps;
      const extraDistance = totalDistance - (400 * laps);
      
      const results = document.getElementById('laneResults');
      results.innerHTML = `
        <div class="bg-gradient-to-r from-orange-500 to-red-600 text-white rounded-lg p-4 lane-track">
          <div class="text-3xl font-bold mb-2">${totalDistance.toFixed(2)}m</div>
          <div class="text-sm">
            ${laneNumber}ë²ˆ ë ˆì¸ Ã— ${laps}ë°”í€´
          </div>
        </div>
        
        <div class="bg-gray-50 rounded-lg p-4">
          <div class="grid grid-cols-2 gap-4 text-sm">
            <div>
              <span class="text-gray-600">1ë°”í€´ ê±°ë¦¬:</span>
              <span class="font-bold ml-2">${distance.toFixed(2)}m</span>
            </div>
            <div>
              <span class="text-gray-600">ì¶”ê°€ ê±°ë¦¬:</span>
              <span class="font-bold ml-2 ${extraDistance > 0 ? 'text-red-600' : ''}">${extraDistance > 0 ? '+' : ''}${extraDistance.toFixed(2)}m</span>
            </div>
            <div>
              <span class="text-gray-600">1ë ˆì¸ ëŒ€ë¹„:</span>
              <span class="font-bold ml-2">${((distance / 400 - 1) * 100).toFixed(1)}% ì¦ê°€</span>
            </div>
            <div>
              <span class="text-gray-600">ë ˆì¸ ë°˜ê²½:</span>
              <span class="font-bold ml-2">${(36.5 + (laneNumber - 1) * 1.22).toFixed(2)}m</span>
            </div>
          </div>
        </div>
      `;
    }

    // ëª¨ë“  ë ˆì¸ ë¹„êµí‘œ ìƒì„±
    function generateAllLanesTable() {
      const tbody = document.getElementById('allLanesTable');
      tbody.innerHTML = '';
      
      for (let lane = 1; lane <= 8; lane++) {
        const row = tbody.insertRow();
        const distance = laneDistances[lane];
        const extra = distance - 400;
        const percentage = ((distance / 400 - 1) * 100).toFixed(1);
        
        row.innerHTML = `
          <td class="p-2 font-bold">${lane}ë²ˆ</td>
          <td class="p-2">${distance.toFixed(2)}</td>
          <td class="p-2 ${extra > 0 ? 'text-red-600' : ''}">${extra > 0 ? '+' : ''}${extra.toFixed(2)}</td>
          <td class="p-2">${percentage}%</td>
        `;
        
        if (lane === 1) row.className = 'bg-red-50';
        if (lane === 8) row.className = 'bg-blue-50';
      }
    }

    // ëª©í‘œ ê±°ë¦¬ ì„ íƒ ë³€ê²½
    document.getElementById('targetDistance').addEventListener('change', function() {
      const customInput = document.getElementById('customDistance');
      if (this.value === 'custom') {
        customInput.classList.remove('hidden');
      } else {
        customInput.classList.add('hidden');
      }
    });

    // ëª©í‘œ í˜ì´ìŠ¤ ê³„ì‚°
    function calculateTargetPace() {
      const distanceSelect = document.getElementById('targetDistance');
      let distance = parseFloat(distanceSelect.value);
      
      if (distanceSelect.value === 'custom') {
        distance = parseFloat(document.getElementById('customDistance').value);
      }
      
      const hours = parseInt(document.getElementById('targetHours').value) || 0;
      const minutes = parseInt(document.getElementById('targetMinutes').value) || 0;
      const seconds = parseFloat(document.getElementById('targetSeconds').value) || 0;
      
      if (!distance || (hours === 0 && minutes === 0 && seconds === 0)) {
        alert('ê±°ë¦¬ì™€ ì‹œê°„ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.');
        return;
      }
      
      const totalSeconds = hours * 3600 + minutes * 60 + seconds;
      
      // í˜ì´ìŠ¤ ê³„ì‚°
      const pace400 = (totalSeconds / distance) * 400;
      const pace100 = (totalSeconds / distance) * 100;
      const pace1km = (totalSeconds / distance) * 1000;
      const speedKmh = (distance / totalSeconds) * 3.6;
      
      // ê²°ê³¼ í‘œì‹œ
      document.getElementById('lap400').textContent = formatTime(pace400);
      document.getElementById('pace100m').textContent = formatTime(pace100);
      document.getElementById('pace1km').textContent = formatTime(pace1km);
      document.getElementById('avgSpeed').textContent = speedKmh.toFixed(2) + ' km/h';
      
      // ë© ìŠ¤í”Œë¦¿ ê³„ì‚°
      const lapSplits = document.getElementById('lapSplits');
      lapSplits.innerHTML = '';
      
      const laps = [
        { dist: 400, name: '400m (1ë°”í€´)' },
        { dist: 800, name: '800m (2ë°”í€´)' },
        { dist: 1200, name: '1200m (3ë°”í€´)' },
        { dist: 1600, name: '1600m (4ë°”í€´)' },
        { dist: 2000, name: '2000m (5ë°”í€´)' },
        { dist: 3000, name: '3000m (7.5ë°”í€´)' },
        { dist: 5000, name: '5000m (12.5ë°”í€´)' }
      ];
      
      laps.forEach(lap => {
        if (lap.dist <= distance) {
          const lapTime = (totalSeconds / distance) * lap.dist;
          lapSplits.innerHTML += `
            <div class="flex justify-between">
              <span>${lap.name}</span>
              <span class="font-mono font-bold">${formatTime(lapTime)}</span>
            </div>
          `;
        }
      });
      
      document.getElementById('targetResults').classList.remove('hidden');
    }

    // ìŠ¤í”Œë¦¿ ê³„ì‚°
    function calculateSplits() {
      const totalDistance = parseFloat(document.getElementById('splitTotalDistance').value);
      const interval = parseFloat(document.getElementById('splitInterval').value);
      const strategy = document.getElementById('paceStrategy').value;
      
      const hours = parseInt(document.getElementById('splitHours').value) || 0;
      const minutes = parseInt(document.getElementById('splitMinutes').value) || 0;
      const seconds = parseFloat(document.getElementById('splitSeconds').value) || 0;
      
      if (!totalDistance || !interval || (hours === 0 && minutes === 0 && seconds === 0)) return;
      
      const totalSeconds = hours * 3600 + minutes * 60 + seconds;
      const numSplits = Math.ceil(totalDistance / interval);
      
      const splitTable = document.getElementById('splitTable');
      splitTable.innerHTML = '';
      
      const table = document.createElement('table');
      table.className = 'w-full text-sm';
      table.innerHTML = `
        <thead class="bg-gray-100">
          <tr>
            <th class="p-2 text-left">êµ¬ê°„</th>
            <th class="p-2">ê±°ë¦¬</th>
            <th class="p-2">êµ¬ê°„ ì‹œê°„</th>
            <th class="p-2">ëˆ„ì  ì‹œê°„</th>
            <th class="p-2">í˜ì´ìŠ¤ (min/km)</th>
          </tr>
        </thead>
        <tbody id="splitTableBody"></tbody>
      `;
      
      const tbody = table.querySelector('tbody');
      let cumulativeTime = 0;
      
      for (let i = 0; i < numSplits; i++) {
        const startDist = i * interval;
        const endDist = Math.min((i + 1) * interval, totalDistance);
        const segmentDist = endDist - startDist;
        
        let segmentTime;
        
        switch (strategy) {
          case 'even':
            segmentTime = (totalSeconds / totalDistance) * segmentDist;
            break;
          case 'negative':
            // í›„ë°˜ë¶€ë¡œ ê°ˆìˆ˜ë¡ ë¹¨ë¼ì§ (ì²˜ìŒ 105% -> ë§ˆì§€ë§‰ 95%)
            const factor = 1.05 - (0.1 * i / (numSplits - 1));
            segmentTime = (totalSeconds / totalDistance) * segmentDist * factor;
            break;
          case 'positive':
            // ì „ë°˜ë¶€ ë¹ ë¦„ (ì²˜ìŒ 95% -> ë§ˆì§€ë§‰ 105%)
            const posFactor = 0.95 + (0.1 * i / (numSplits - 1));
            segmentTime = (totalSeconds / totalDistance) * segmentDist * posFactor;
            break;
          default:
            segmentTime = (totalSeconds / totalDistance) * segmentDist;
        }
        
        cumulativeTime += segmentTime;
        const pacePerKm = (segmentTime / segmentDist) * 1000 / 60;
        
        const row = tbody.insertRow();
        row.innerHTML = `
          <td class="p-2 font-medium">${i + 1}êµ¬ê°„</td>
          <td class="p-2">${startDist}-${endDist}m</td>
          <td class="p-2 font-mono">${formatTime(segmentTime)}</td>
          <td class="p-2 font-mono font-bold">${formatTime(cumulativeTime)}</td>
          <td class="p-2">${Math.floor(pacePerKm)}:${String(Math.floor((pacePerKm % 1) * 60)).padStart(2, '0')}</td>
        `;
      }
      
      splitTable.appendChild(table);
      document.getElementById('splitResults').classList.remove('hidden');
    }

    // ë’¤ë¡œê°€ê¸°
    function goBack() {
      window.location.href = 'index.html';
    }

    // í˜ì´ì§€ ë¡œë“œ ì‹œ ì°¨íŠ¸ íƒ­ í™œì„±í™” ë° ì°¨íŠ¸ ìƒì„±
    window.addEventListener('DOMContentLoaded', () => {
      switchTab('chart');
    });
  </script>
</body>
</html>