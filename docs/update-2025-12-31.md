# ğŸƒ Athlete Time ì—…ë°ì´íŠ¸ ë‚´ì—­ (2025-12-31)

## ğŸ“¡ ì‹¤ì‹œê°„ ì±„íŒ… ê¸°ëŠ¥

### WebSocket ì—°ê²° ìˆ˜ì •
- **WebSocket URL ì˜¤ë¥˜ ìˆ˜ì •**: `wss://athlete-time-backend.onrender.com` â†’ `wss://athletetime-backend.onrender.com` (í•˜ì´í”ˆ ì œê±°)
- **ì ì§„ì  ì¬ì—°ê²° ë¡œì§**: 3s â†’ 6s â†’ 9s â†’ 12s â†’ 15s, ìµœëŒ€ 5íšŒ ì‹œë„
- **ì—°ê²° ìƒíƒœ UI**: 3ë‹¨ê³„ í‘œì‹œ (ì—°ê²°ë¨/ì—°ê²° ì¤‘/ì—°ê²° ëŠê¹€)

### ì¤‘ë³µ ì ‘ì† ì²˜ë¦¬
- **ê³ ìœ  ìœ ì € ì¹´ìš´íŠ¸**: ê°™ì€ ë‹‰ë„¤ì„ìœ¼ë¡œ ì—¬ëŸ¬ íƒ­ ì ‘ì† ì‹œ 1ëª…ìœ¼ë¡œ ì¹´ìš´íŠ¸
- **ì…ì¥/í‡´ì¥ ì•Œë¦¼**: ì²« ë²ˆì§¸ ì—°ê²° ì‹œì—ë§Œ ì…ì¥, ë§ˆì§€ë§‰ ì—°ê²° í•´ì œ ì‹œì—ë§Œ í‡´ì¥ ì•Œë¦¼
- **ì¤‘ë³µ ë©”ì‹œì§€ ë²„ê·¸ ìˆ˜ì •**: ë°© ì´ë™ í›„ ë©”ì‹œì§€ê°€ ì—¬ëŸ¬ ê°œ ì „ì†¡ë˜ëŠ” ë¬¸ì œ í•´ê²° (useCallback ì˜ì¡´ì„± ìµœì í™”)

### ë‹‰ë„¤ì„ ì¤‘ë³µ ì²´í¬
- **ë°±ì—”ë“œ API**: `GET /api/chat/check-nickname?nickname=xxx`
- **í”„ë¡ íŠ¸ì—”ë“œ**: ì…ì¥ ì‹œ ì‹¤ì‹œê°„ ì¤‘ë³µ ê²€ì¦, ì—ëŸ¬ ë©”ì‹œì§€ í‘œì‹œ, ë¡œë”© ìŠ¤í”¼ë„ˆ

### ë‹‰ë„¤ì„ ìœ ì§€ (sessionStorage)
- `chat_nickname`, `chat_user_id` sessionStorage ì €ì¥
- í˜ì´ì§€ ì´ë™ í›„ ì¬ë°©ë¬¸ ì‹œ ë‹‰ë„¤ì„ ëª¨ë‹¬ ì—†ì´ ë°”ë¡œ ì…ì¥
- íƒ­/ë¸Œë¼ìš°ì € ë‹«ìœ¼ë©´ ì´ˆê¸°í™” (ìµëª…ì„± ë³´ì¥)

### ì±„íŒ… UI/UX ê°œì„ 
- **ë ˆì´ì•„ì›ƒ ìˆ˜ì •**: Layout ë˜í¼ ìœ ì§€í•˜ë©´ì„œ ì±„íŒ… ì˜ì—­ ì „ì²´ ë†’ì´ ì‚¬ìš© (`calc(100vh - 64px)`)
- **ì‚¬ì´ë“œë°” z-index**: í—¤ë”(z-50)ë³´ë‹¤ ë‚®ê²Œ ì„¤ì •(z-40)í•˜ì—¬ í—¤ë” ì•„ë˜ ìœ„ì¹˜
- **ì…ë ¥ì°½/í—¤ë” ê³ ì •**: flex-shrink-0ìœ¼ë¡œ ê³ ì •, ë©”ì‹œì§€ ì˜ì—­ë§Œ ìŠ¤í¬ë¡¤
- **í™ˆ ë²„íŠ¼ ì œê±°**: í—¤ë”ì— ì´ë¯¸ ìˆìœ¼ë¯€ë¡œ ì±„íŒ… í—¤ë”ì—ì„œ ì œê±°
- **ì±„íŒ…ë°© ì „í™˜ ë²„íŠ¼**: ëª¨ë°”ì¼ì—ì„œ í—¤ë” ìš°ì¸¡ì— ë°°ì¹˜
- **ì˜¤ë²„ë ˆì´ ë‹«ê¸°**: ëª¨ë°”ì¼ ì±„íŒ…ë°© ëª©ë¡ ì™¸ ì˜ì—­ í„°ì¹˜ ì‹œ ë‹«í˜

### ë©”ì¸í˜ì´ì§€ & GNB ì—°ë™
- **ì‹¤ì‹œê°„ ì±„íŒ… ì¹´ë“œ**: "ì¤€ë¹„ì¤‘" ë±ƒì§€ ì œê±°, `/chat` ë¼ìš°íŒ… í™œì„±í™”
- **GNB ë©”ë‰´ ì¶”ê°€**: "ğŸ’­ ì‹¤ì‹œê°„ ì±„íŒ…" ë©”ë‰´ (ë°ìŠ¤í¬í†±/ëª¨ë°”ì¼)

---

## ğŸ’¬ ìµëª… ì»¤ë®¤ë‹ˆí‹° (ê²Œì‹œíŒ)

### ì •ë ¬ ë²„íŠ¼ ë ˆì´ì•„ì›ƒ
- **ìœ„ì¹˜ ë³€ê²½**: PageHeader ë‚´ë¶€ â†’ ê¸€ ëª©ë¡ ìš°ì¸¡ ìƒë‹¨ìœ¼ë¡œ ë¶„ë¦¬
- **ì•„ì´ì½˜ ì œê±°**: "ğŸ”¥ ì¸ê¸°ìˆœ" â†’ "ì¸ê¸°ìˆœ", "ğŸ’¬ ëŒ“ê¸€ìˆœ" â†’ "ëŒ“ê¸€ìˆœ"

### ê´€ë¦¬ì ê¸€ì“°ê¸°
- **ë‹‰ë„¤ì„ readonly**: ê´€ë¦¬ìëŠ” ë§ˆì´í˜ì´ì§€ ë‹‰ë„¤ì„ ìë™ ì ìš©
- **UI í‘œì‹œ**: íšŒìƒ‰ ë°°ê²½ + "ğŸ›¡ï¸ ê´€ë¦¬ì" ë±ƒì§€

---

## ğŸ¨ UI/UX ê°œì„ 

### ëª¨ë°”ì¼ í–„ë²„ê±° ë©”ë‰´
- **ì‚¬ìš©ì ë²„íŠ¼ ìŠ¤íƒ€ì¼ ë³€ê²½**: ì„ íƒëœ í˜ì´ì§€ì™€ ë™ì¼í•œ ìŠ¤íƒ€ì¼(bg-primary-50) â†’ í…Œë‘ë¦¬ ìŠ¤íƒ€ì¼(border border-neutral-200)
- **ì•„ë°”íƒ€ ì¶”ê°€**: ë‹‰ë„¤ì„ ì²« ê¸€ìê°€ ë“¤ì–´ê°„ ê·¸ë¼ë°ì´ì…˜ ì›í˜• ì•„ë°”íƒ€
- **ì•ˆë‚´ í…ìŠ¤íŠ¸**: "ë‚´ í”„ë¡œí•„ â†’" ì¶”ê°€

---

## ğŸ”§ ê¸°ìˆ ì  ë³€ê²½ì‚¬í•­

### í”„ë¡ íŠ¸ì—”ë“œ

| íŒŒì¼ | ë³€ê²½ ë‚´ìš© |
|------|-----------|
| `useWebSocket.ts` | useRefë¡œ ì˜ì¡´ì„± ìµœì í™”, ì¤‘ë³µ ì—°ê²° ë°©ì§€ |
| `useChat.ts` | sessionStorage ì €ì¥, ë‹‰ë„¤ì„ ì²´í¬ API ì—°ë™ |
| `NicknameModal.tsx` | ì—ëŸ¬ ë©”ì‹œì§€, ê¸€ì ìˆ˜ ì¹´ìš´í„°, ë¡œë”© ìƒíƒœ |
| `ChatHeader.tsx` | ëª¨ë°”ì¼ ë©”ë‰´ í† ê¸€ ë²„íŠ¼ ì¶”ê°€ |
| `RoomSidebar.tsx` | ì˜¤ë²„ë ˆì´ í´ë¦­ ë‹«ê¸°, z-index ì¡°ì • |
| `Header.tsx` | ì±„íŒ… ë©”ë‰´ ì¶”ê°€, ì‚¬ìš©ì ë²„íŠ¼ ìŠ¤íƒ€ì¼ ë³€ê²½ |
| `CommunityPage.tsx` | ì •ë ¬ ë²„íŠ¼ ë¶„ë¦¬, ê´€ë¦¬ì ë‹‰ë„¤ì„ readonly |
| `MainPage.tsx` | ì±„íŒ… ì¹´ë“œ í™œì„±í™” |
| `App.tsx` | /chat ë¼ìš°íŠ¸ Layout ë‚´ ìœ ì§€ |

### ë°±ì—”ë“œ

| íŒŒì¼ | ë³€ê²½ ë‚´ìš© |
|------|-----------|
| `websocket.js` | ë‹‰ë„¤ì„ ê¸°ë°˜ ìœ ì € ì¹´ìš´íŠ¸, ì¤‘ë³µ ì²´í¬ í•¨ìˆ˜ ì¶”ê°€ |
| `server.js` | `/api/chat/check-nickname` API ì¶”ê°€ |

---

## ğŸ“‹ ì»¤ë°‹ íˆìŠ¤í† ë¦¬

```
9f83fbc feat: admin nickname readonly in community write form
c1040fd feat: add nickname duplicate check for chat
953e8ae fix: remove emoji icons from sorting buttons
dc38186 fix: move sorting buttons outside PageHeader
cd0f47b fix: differentiate mobile menu user button from selected page
afe55eb feat: add real-time chat to GNB navigation menu
3a0f756 feat: persist chat nickname in sessionStorage
67e7061 feat: enable real-time chat feature on main page
8edcd56 feat: close room sidebar when tapping outside on mobile
b71a67b fix: remove home button, move room switch button to header
ebb2451 fix: prevent duplicate WebSocket connections on room change
2d4d357 fix: lower sidebar z-index to stay below header
9eb6c64 fix: chat page layout - fill remaining space below header
d5102fa fix: remove chat page from Layout wrapper
1cbe857 fix: chat layout - sidebar fixed height, input fixed at bottom
027024d fix: count unique users by nickname, prevent duplicate messages
cc826fe fix: correct WebSocket URL (remove extra hyphen)
```

---

## ğŸš€ ë°°í¬ ì •ë³´

- **í”„ë¡ íŠ¸ì—”ë“œ**: https://athlete-time.netlify.app (ìë™ ë°°í¬)
- **ë°±ì—”ë“œ**: https://athletetime-backend.onrender.com (ìë™/ìˆ˜ë™ ë°°í¬)

---

## ğŸ“ ì°¸ê³ ì‚¬í•­

### í…ŒìŠ¤íŠ¸ ë°©ë²•

#### ì‹¤ì‹œê°„ ì±„íŒ…
1. https://athlete-time.netlify.app/chat ì ‘ì†
2. ë‹‰ë„¤ì„ ì…ë ¥ í›„ ì…ì¥
3. ë‹¤ë¥¸ íƒ­ì—ì„œ ê°™ì€ ë‹‰ë„¤ì„ìœ¼ë¡œ ì…ì¥ ì‹œë„ â†’ "ì´ë¯¸ ì‚¬ìš© ì¤‘ì¸ ë‹‰ë„¤ì„ì…ë‹ˆë‹¤." ì—ëŸ¬ í™•ì¸
4. ë‹¤ë¥¸ í˜ì´ì§€ ì´ë™ í›„ ì±„íŒ… ì¬ë°©ë¬¸ â†’ ë‹‰ë„¤ì„ ëª¨ë‹¬ ì—†ì´ ë°”ë¡œ ì…ì¥ í™•ì¸

#### ê´€ë¦¬ì ê¸°ëŠ¥
1. ê´€ë¦¬ì ê³„ì •ìœ¼ë¡œ ë¡œê·¸ì¸
2. ìµëª…ê²Œì‹œíŒì—ì„œ "ê¸€ì“°ê¸°" í´ë¦­
3. ë‹‰ë„¤ì„ í•„ë“œê°€ readonlyì´ê³  ë§ˆì´í˜ì´ì§€ ë‹‰ë„¤ì„ì´ í‘œì‹œë˜ëŠ”ì§€ í™•ì¸
