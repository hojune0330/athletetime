<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ì• ìŠ¬ë¦¬íŠ¸ íƒ€ì„ - ëŸ¬ë‹ ì»¤ë®¤ë‹ˆí‹°</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css">
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Malgun Gothic', sans-serif;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      min-height: 100vh;
    }
    
    /* ì±„íŒ… í”Œë¡œíŒ… ë²„íŠ¼ */
    .chat-fab {
      position: fixed;
      bottom: 20px;
      right: 20px;
      width: 60px;
      height: 60px;
      background: linear-gradient(135deg, #667eea, #764ba2);
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
      z-index: 1000;
      transition: all 0.3s;
    }
    
    .chat-fab:hover {
      transform: scale(1.1);
    }
    
    .chat-fab .notification-badge {
      position: absolute;
      top: -5px;
      right: -5px;
      background: #ef4444;
      color: white;
      width: 24px;
      height: 24px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 12px;
      font-weight: bold;
      animation: pulse 2s infinite;
    }
    
    @keyframes pulse {
      0%, 100% { transform: scale(1); }
      50% { transform: scale(1.1); }
    }
    
    /* ì±„íŒ… íŒ¨ë„ */
    .chat-panel {
      position: fixed;
      bottom: 90px;
      right: 20px;
      width: 380px;
      height: 600px;
      background: #1a1a1a;
      border-radius: 12px;
      box-shadow: 0 10px 40px rgba(0, 0, 0, 0.4);
      display: none;
      flex-direction: column;
      z-index: 999;
      animation: slideUp 0.3s ease-out;
    }
    
    .chat-panel.active {
      display: flex;
    }
    
    @keyframes slideUp {
      from {
        transform: translateY(20px);
        opacity: 0;
      }
      to {
        transform: translateY(0);
        opacity: 1;
      }
    }
    
    @media (max-width: 640px) {
      .chat-panel {
        position: fixed;
        bottom: 0;
        right: 0;
        left: 0;
        width: 100%;
        height: 100vh;
        border-radius: 0;
      }
    }
    
    /* ë©”ì¸ ì»¨í…ì¸  ìŠ¤íƒ€ì¼ */
    .main-header {
      background: rgba(255, 255, 255, 0.95);
      backdrop-filter: blur(10px);
      box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
    }
    
    .feature-card {
      background: white;
      border-radius: 12px;
      padding: 24px;
      box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
      transition: all 0.3s;
    }
    
    .feature-card:hover {
      transform: translateY(-4px);
      box-shadow: 0 8px 30px rgba(0, 0, 0, 0.15);
    }
    
    /* ì‹¤ì‹œê°„ í™œë™ í”¼ë“œ */
    .activity-feed {
      background: rgba(255, 255, 255, 0.95);
      border-radius: 12px;
      padding: 16px;
      max-height: 300px;
      overflow-y: auto;
    }
    
    .activity-item {
      padding: 8px 12px;
      margin: 4px 0;
      background: rgba(102, 126, 234, 0.1);
      border-radius: 8px;
      display: flex;
      align-items: center;
      gap: 8px;
      animation: fadeIn 0.5s;
    }
    
    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }
    
    /* ì±„íŒ… ë©”ì‹œì§€ ìŠ¤íƒ€ì¼ */
    .chat-messages {
      flex: 1;
      overflow-y: auto;
      padding: 16px;
      background: #0f0f0f;
    }
    
    .chat-message {
      margin-bottom: 12px;
      animation: slideIn 0.3s;
    }
    
    @keyframes slideIn {
      from {
        transform: translateX(-20px);
        opacity: 0;
      }
      to {
        transform: translateX(0);
        opacity: 1;
      }
    }
    
    .message-content {
      background: rgba(255, 255, 255, 0.05);
      padding: 8px 12px;
      border-radius: 12px;
      display: inline-block;
      max-width: 80%;
      color: #e0e0e0;
    }
    
    .own-message .message-content {
      background: rgba(102, 126, 234, 0.2);
      margin-left: auto;
      display: block;
    }
    
    ::-webkit-scrollbar {
      width: 6px;
    }
    
    ::-webkit-scrollbar-track {
      background: transparent;
    }
    
    ::-webkit-scrollbar-thumb {
      background: rgba(255, 255, 255, 0.2);
      border-radius: 3px;
    }
  </style>
</head>
<body>
  <!-- ë©”ì¸ í—¤ë” -->
  <header class="main-header sticky top-0 z-50">
    <div class="container mx-auto px-4 py-4">
      <div class="flex items-center justify-between">
        <div class="flex items-center gap-4">
          <h1 class="text-2xl font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent">
            ì• ìŠ¬ë¦¬íŠ¸ íƒ€ì„
          </h1>
          <nav class="hidden md:flex gap-6">
            <a href="#pace" class="hover:text-purple-600 transition">í˜ì´ìŠ¤ ê³„ì‚°ê¸°</a>
            <a href="#track" class="hover:text-purple-600 transition">íŠ¸ë™ ê³„ì‚°ê¸°</a>
            <a href="#training" class="hover:text-purple-600 transition">í›ˆë ¨ í”Œëœ</a>
            <a href="#community" class="hover:text-purple-600 transition">ì»¤ë®¤ë‹ˆí‹°</a>
          </nav>
        </div>
        
        <!-- ì‹¤ì‹œê°„ ìƒíƒœ -->
        <div class="flex items-center gap-4">
          <div class="hidden md:flex items-center gap-2 px-3 py-1 bg-red-100 rounded-full">
            <div class="w-2 h-2 bg-red-500 rounded-full animate-pulse"></div>
            <span class="text-sm font-medium" id="onlineCount">247ëª… ì˜¨ë¼ì¸</span>
          </div>
          <button class="px-4 py-2 bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-full text-sm font-medium hover:opacity-90 transition">
            ë¡œê·¸ì¸
          </button>
        </div>
      </div>
    </div>
  </header>

  <!-- ë©”ì¸ ì»¨í…ì¸  -->
  <main class="container mx-auto px-4 py-8">
    <!-- íˆì–´ë¡œ ì„¹ì…˜ -->
    <section class="text-center text-white mb-12">
      <h2 class="text-4xl md:text-5xl font-bold mb-4">
        ë” ë¹ ë¥´ê²Œ, ë” ë©€ë¦¬, í•¨ê»˜
      </h2>
      <p class="text-xl mb-8 opacity-90">
        ì‹¤ì‹œê°„ìœ¼ë¡œ ì†Œí†µí•˜ë©° í•¨ê»˜ ì„±ì¥í•˜ëŠ” ëŸ¬ë‹ ì»¤ë®¤ë‹ˆí‹°
      </p>
      <div class="flex justify-center gap-4">
        <button onclick="window.location.href='pace-calculator.html'" class="px-6 py-3 bg-white text-purple-600 rounded-full font-medium hover:bg-gray-100 transition">
          í˜ì´ìŠ¤ ê³„ì‚° ì‹œì‘í•˜ê¸°
        </button>
        <button onclick="toggleChat()" class="px-6 py-3 bg-black bg-opacity-30 text-white rounded-full font-medium hover:bg-opacity-40 transition">
          ì‹¤ì‹œê°„ ì±„íŒ… ì°¸ì—¬
        </button>
      </div>
    </section>

    <!-- ì‹¤ì‹œê°„ í™œë™ í”¼ë“œ -->
    <section class="mb-12">
      <h3 class="text-white text-xl font-bold mb-4">ğŸ”¥ ì‹¤ì‹œê°„ ì»¤ë®¤ë‹ˆí‹° í™œë™</h3>
      <div class="activity-feed" id="activityFeed">
        <!-- í™œë™ ì•„ì´í…œë“¤ì´ ì—¬ê¸°ì— ì¶”ê°€ë¨ -->
      </div>
    </section>

    <!-- ê¸°ëŠ¥ ì¹´ë“œ ê·¸ë¦¬ë“œ -->
    <section class="grid md:grid-cols-3 gap-6 mb-12">
      <div class="feature-card">
        <div class="text-3xl mb-4">ğŸƒâ€â™‚ï¸</div>
        <h3 class="text-xl font-bold mb-2">í˜ì´ìŠ¤ ê³„ì‚°ê¸°</h3>
        <p class="text-gray-600 mb-4">ëª©í‘œ ì‹œê°„ì— ë§ëŠ” ì •í™•í•œ í˜ì´ìŠ¤ë¥¼ ê³„ì‚°í•˜ì„¸ìš”</p>
        <a href="pace-calculator.html" class="text-purple-600 font-medium hover:underline">
          ê³„ì‚°í•˜ê¸° â†’
        </a>
      </div>
      
      <div class="feature-card">
        <div class="text-3xl mb-4">ğŸŸï¸</div>
        <h3 class="text-xl font-bold mb-2">íŠ¸ë™ ë ˆì¸ ê³„ì‚°ê¸°</h3>
        <p class="text-gray-600 mb-4">ë ˆì¸ë³„ ì •í™•í•œ ê±°ë¦¬ì™€ ì‹œê°„ì„ ê³„ì‚°í•˜ì„¸ìš”</p>
        <a href="pace-calculator.html#track" class="text-purple-600 font-medium hover:underline">
          ê³„ì‚°í•˜ê¸° â†’
        </a>
      </div>
      
      <div class="feature-card">
        <div class="text-3xl mb-4">ğŸ’¬</div>
        <h3 class="text-xl font-bold mb-2">ì‹¤ì‹œê°„ ì±„íŒ…</h3>
        <p class="text-gray-600 mb-4">
          <span class="inline-flex items-center gap-1">
            <span class="w-2 h-2 bg-green-500 rounded-full"></span>
            <span id="chatUserCount">32ëª…</span> ì±„íŒ… ì¤‘
          </span>
        </p>
        <button onclick="toggleChat()" class="text-purple-600 font-medium hover:underline">
          ì±„íŒ… ì°¸ì—¬ â†’
        </button>
      </div>
    </section>

    <!-- ì‹¤ì‹œê°„ ê¸°ë¡ ë³´ë“œ -->
    <section class="grid md:grid-cols-2 gap-6">
      <div class="bg-white rounded-lg p-6">
        <h3 class="text-xl font-bold mb-4">ğŸ† ì˜¤ëŠ˜ì˜ ë² ìŠ¤íŠ¸ ê¸°ë¡</h3>
        <div class="space-y-3" id="bestRecords">
          <!-- ê¸°ë¡ë“¤ì´ ì—¬ê¸°ì— ì¶”ê°€ë¨ -->
        </div>
      </div>
      
      <div class="bg-white rounded-lg p-6">
        <h3 class="text-xl font-bold mb-4">ğŸ“ˆ ì‹¤ì‹œê°„ í†µê³„</h3>
        <div class="grid grid-cols-2 gap-4">
          <div class="text-center p-4 bg-purple-50 rounded-lg">
            <div class="text-2xl font-bold text-purple-600" id="totalDistance">1,234km</div>
            <div class="text-sm text-gray-600">ì˜¤ëŠ˜ ì´ ê±°ë¦¬</div>
          </div>
          <div class="text-center p-4 bg-pink-50 rounded-lg">
            <div class="text-2xl font-bold text-pink-600" id="totalRunners">89ëª…</div>
            <div class="text-sm text-gray-600">í™œë™ ëŸ¬ë„ˆ</div>
          </div>
        </div>
      </div>
    </section>
  </main>

  <!-- ì±„íŒ… í”Œë¡œíŒ… ë²„íŠ¼ -->
  <div class="chat-fab" onclick="toggleChat()" id="chatFab">
    <i class="fas fa-comments text-white text-2xl"></i>
    <div class="notification-badge" id="unreadBadge" style="display: none;">0</div>
  </div>

  <!-- ì±„íŒ… íŒ¨ë„ -->
  <div class="chat-panel" id="chatPanel">
    <div class="bg-gradient-to-r from-purple-600 to-pink-600 p-4 rounded-t-lg">
      <div class="flex items-center justify-between text-white">
        <div>
          <h3 class="font-bold">ì‹¤ì‹œê°„ ëŸ¬ë‹í†¡</h3>
          <div class="text-xs opacity-90">
            <span id="chatStatus">ì—°ê²° ì¤‘...</span>
          </div>
        </div>
        <button onclick="toggleChat()" class="text-white hover:opacity-80">
          <i class="fas fa-times"></i>
        </button>
      </div>
    </div>
    
    <div class="chat-messages" id="chatMessages">
      <div class="text-center text-gray-500 text-sm py-4">
        ì±„íŒ…ì— ì˜¤ì‹  ê²ƒì„ í™˜ì˜í•©ë‹ˆë‹¤!
      </div>
    </div>
    
    <div class="p-4 border-t border-gray-800">
      <div class="flex gap-2">
        <input 
          type="text" 
          id="chatInput" 
          class="flex-1 px-4 py-2 bg-gray-800 text-white rounded-full text-sm focus:outline-none focus:ring-2 focus:ring-purple-600"
          placeholder="ë©”ì‹œì§€ë¥¼ ì…ë ¥í•˜ì„¸ìš”..."
          onkeypress="handleChatKeyPress(event)">
        <button onclick="sendChatMessage()" class="px-4 py-2 bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-full hover:opacity-90 transition">
          <i class="fas fa-paper-plane"></i>
        </button>
      </div>
    </div>
  </div>

  <script>
    // WebSocket ì—°ê²°
    let ws = null;
    let currentUser = null;
    let chatOpen = false;
    let unreadCount = 0;
    let activityInterval = null;
    
    // ì´ˆê¸°í™”
    window.addEventListener('DOMContentLoaded', () => {
      initializeApp();
    });
    
    function initializeApp() {
      // ì‚¬ìš©ì ìƒì„±
      currentUser = {
        id: localStorage.getItem('userId') || 'user_' + Math.random().toString(36).substr(2, 9),
        name: localStorage.getItem('username') || generateUsername()
      };
      
      localStorage.setItem('userId', currentUser.id);
      localStorage.setItem('username', currentUser.name);
      
      // WebSocket ì—°ê²°
      connectWebSocket();
      
      // ì‹¤ì‹œê°„ í™œë™ ì‹œì‘
      startActivityFeed();
      
      // í†µê³„ ì—…ë°ì´íŠ¸
      updateStats();
      setInterval(updateStats, 10000);
    }
    
    function generateUsername() {
      const adjectives = ['ë¹ ë¥¸', 'ê°•í•œ', 'ë¯¼ì²©í•œ', 'ì—´ì •ì ì¸', 'íŒŒì›Œ'];
      const nouns = ['ëŸ¬ë„ˆ', 'ìŠ¤í”„ë¦°í„°', 'ë§ˆë¼í† ë„ˆ', 'ì„ ìˆ˜', 'ì±”í”¼ì–¸'];
      return adjectives[Math.floor(Math.random() * adjectives.length)] +
             nouns[Math.floor(Math.random() * nouns.length)] +
             Math.floor(Math.random() * 999);
    }
    
    function connectWebSocket() {
      const wsUrl = `ws://${window.location.hostname}:3002`;
      
      try {
        ws = new WebSocket(wsUrl);
        
        ws.onopen = () => {
          updateChatStatus('ì˜¨ë¼ì¸', 'green');
        };
        
        ws.onmessage = (event) => {
          const data = JSON.parse(event.data);
          handleWebSocketMessage(data);
        };
        
        ws.onerror = () => {
          updateChatStatus('ì˜¤í”„ë¼ì¸', 'red');
          fallbackToLocal();
        };
        
        ws.onclose = () => {
          updateChatStatus('ì¬ì—°ê²° ì¤‘...', 'yellow');
          setTimeout(connectWebSocket, 3000);
        };
      } catch (error) {
        console.log('WebSocket ì—°ê²° ì‹¤íŒ¨, ë¡œì»¬ ëª¨ë“œë¡œ ì „í™˜');
        fallbackToLocal();
      }
    }
    
    function handleWebSocketMessage(data) {
      switch(data.type) {
        case 'connected':
          onConnected(data.data);
          break;
        case 'message':
          onChatMessage(data.data);
          break;
        case 'userJoined':
        case 'userLeft':
          onUserActivity(data.data);
          break;
      }
    }
    
    function onConnected(data) {
      currentUser = { ...currentUser, ...data.user };
      updateChatStatus(`${data.userCount}ëª… ì˜¨ë¼ì¸`, 'green');
      
      // ì´ì „ ë©”ì‹œì§€ í‘œì‹œ
      if (data.recentMessages) {
        data.recentMessages.forEach(msg => displayChatMessage(msg));
      }
    }
    
    function onChatMessage(message) {
      displayChatMessage(message);
      
      // ì±„íŒ…ì´ ë‹«í˜€ìˆìœ¼ë©´ ì•Œë¦¼ í‘œì‹œ
      if (!chatOpen) {
        unreadCount++;
        updateUnreadBadge();
      }
      
      // í™œë™ í”¼ë“œì— ì¶”ê°€
      addActivityItem(`ğŸ’¬ ${message.username}: ${message.text.substring(0, 30)}...`);
    }
    
    function onUserActivity(data) {
      updateChatStatus(`${data.userCount}ëª… ì˜¨ë¼ì¸`, 'green');
      document.getElementById('onlineCount').textContent = `${data.userCount}ëª… ì˜¨ë¼ì¸`;
      document.getElementById('chatUserCount').textContent = `${data.userCount}ëª…`;
    }
    
    function displayChatMessage(message) {
      const messagesContainer = document.getElementById('chatMessages');
      const messageDiv = document.createElement('div');
      const isOwn = currentUser && message.userId === currentUser.id;
      
      messageDiv.className = `chat-message ${isOwn ? 'own-message' : ''}`;
      
      const time = new Date(message.timestamp).toLocaleTimeString('ko-KR', {
        hour: '2-digit',
        minute: '2-digit'
      });
      
      messageDiv.innerHTML = `
        <div class="message-content">
          <div class="text-xs opacity-70 mb-1">
            ${message.username} Â· ${time}
          </div>
          <div>${escapeHtml(message.text)}</div>
        </div>
      `;
      
      messagesContainer.appendChild(messageDiv);
      messagesContainer.scrollTop = messagesContainer.scrollHeight;
    }
    
    function sendChatMessage() {
      const input = document.getElementById('chatInput');
      const text = input.value.trim();
      
      if (!text) return;
      
      if (ws && ws.readyState === WebSocket.OPEN) {
        ws.send(JSON.stringify({
          type: 'message',
          data: { text }
        }));
      } else {
        // ë¡œì»¬ ëª¨ë“œ
        displayChatMessage({
          id: Date.now(),
          userId: currentUser.id,
          username: currentUser.name,
          text: text,
          timestamp: new Date()
        });
      }
      
      input.value = '';
      
      // í™œë™ í”¼ë“œì— ì¶”ê°€
      addActivityItem(`ğŸ’¬ ë‚˜: ${text.substring(0, 30)}...`);
    }
    
    function toggleChat() {
      const panel = document.getElementById('chatPanel');
      chatOpen = !chatOpen;
      
      if (chatOpen) {
        panel.classList.add('active');
        unreadCount = 0;
        updateUnreadBadge();
        document.getElementById('chatInput').focus();
      } else {
        panel.classList.remove('active');
      }
    }
    
    function updateUnreadBadge() {
      const badge = document.getElementById('unreadBadge');
      if (unreadCount > 0) {
        badge.style.display = 'flex';
        badge.textContent = unreadCount > 99 ? '99+' : unreadCount;
      } else {
        badge.style.display = 'none';
      }
    }
    
    function updateChatStatus(text, color) {
      const status = document.getElementById('chatStatus');
      status.innerHTML = `<span class="inline-flex items-center gap-1">
        <span class="w-2 h-2 bg-${color}-500 rounded-full"></span>
        ${text}
      </span>`;
    }
    
    function startActivityFeed() {
      // ì´ˆê¸° í™œë™ ì¶”ê°€
      const activities = [
        'ğŸƒ ê°•ë ¥ëŸ¬ë„ˆë‹˜ì´ 5km ì™„ì£¼',
        'ğŸ’¬ ìƒˆë¡œìš´ ëŒ€í™” ì‹œì‘ë¨',
        'ğŸ† íŒŒì›ŒìŠ¤í”„ë¦°í„°ë‹˜ì´ ì‹ ê¸°ë¡ ë‹¬ì„±',
        'ğŸ‘¥ 3ëª…ì˜ ëŸ¬ë„ˆê°€ ì°¸ì—¬',
        'ğŸ“Š ì˜¤ëŠ˜ì˜ í˜ì´ìŠ¤ ê³„ì‚° 100íšŒ ëŒíŒŒ'
      ];
      
      activities.forEach((activity, index) => {
        setTimeout(() => addActivityItem(activity), index * 1000);
      });
      
      // ì£¼ê¸°ì  ì—…ë°ì´íŠ¸
      activityInterval = setInterval(() => {
        const randomActivities = [
          `ğŸƒ ${generateUsername()}ë‹˜ì´ ëŸ¬ë‹ ì‹œì‘`,
          `ğŸ’ª ${Math.floor(Math.random() * 10) + 1}km ë‹¬ì„±`,
          `âš¡ í˜ì´ìŠ¤ ${4 + Math.random()}:${Math.floor(Math.random() * 60).toString().padStart(2, '0')}`,
          `ğŸ¯ ëª©í‘œ ë‹¬ì„±ë¥  ${Math.floor(Math.random() * 30) + 70}%`
        ];
        
        const activity = randomActivities[Math.floor(Math.random() * randomActivities.length)];
        addActivityItem(activity);
      }, 15000);
    }
    
    function addActivityItem(text) {
      const feed = document.getElementById('activityFeed');
      const item = document.createElement('div');
      item.className = 'activity-item';
      item.innerHTML = `
        <span class="text-purple-600">â—</span>
        <span class="text-sm">${text}</span>
        <span class="text-xs text-gray-500 ml-auto">ë°©ê¸ˆ</span>
      `;
      
      feed.insertBefore(item, feed.firstChild);
      
      // ìµœëŒ€ 10ê°œ ìœ ì§€
      while (feed.children.length > 10) {
        feed.removeChild(feed.lastChild);
      }
    }
    
    function updateStats() {
      // í†µê³„ ì—…ë°ì´íŠ¸
      const totalDistance = Math.floor(Math.random() * 500) + 1000;
      const totalRunners = Math.floor(Math.random() * 50) + 50;
      
      document.getElementById('totalDistance').textContent = `${totalDistance.toLocaleString()}km`;
      document.getElementById('totalRunners').textContent = `${totalRunners}ëª…`;
      
      // ë² ìŠ¤íŠ¸ ê¸°ë¡ ì—…ë°ì´íŠ¸
      const records = document.getElementById('bestRecords');
      records.innerHTML = `
        <div class="flex justify-between items-center p-3 bg-gray-50 rounded">
          <span class="font-medium">5km</span>
          <span class="text-purple-600 font-bold">18:45</span>
        </div>
        <div class="flex justify-between items-center p-3 bg-gray-50 rounded">
          <span class="font-medium">10km</span>
          <span class="text-purple-600 font-bold">38:23</span>
        </div>
        <div class="flex justify-between items-center p-3 bg-gray-50 rounded">
          <span class="font-medium">í•˜í”„</span>
          <span class="text-purple-600 font-bold">1:25:17</span>
        </div>
      `;
    }
    
    function handleChatKeyPress(event) {
      if (event.key === 'Enter') {
        sendChatMessage();
      }
    }
    
    function escapeHtml(text) {
      const div = document.createElement('div');
      div.textContent = text;
      return div.innerHTML;
    }
    
    function fallbackToLocal() {
      updateChatStatus('ë¡œì»¬ ëª¨ë“œ', 'gray');
      
      // ê°€ìƒ ë©”ì‹œì§€ ìƒì„±
      setInterval(() => {
        if (Math.random() > 0.8) {
          const messages = [
            'ì˜¤ëŠ˜ ë‚ ì”¨ ì¢‹ë„¤ìš”!',
            '10km ëª©í‘œ ë‹¬ì„±!',
            'ê°™ì´ ë›°ì‹¤ ë¶„?',
            'í˜ì´ìŠ¤ ì¡°ì ˆì´ ì–´ë ¤ì›Œìš”',
            'í™”ì´íŒ…!'
          ];
          
          displayChatMessage({
            id: Date.now(),
            userId: 'bot_' + Math.random(),
            username: generateUsername(),
            text: messages[Math.floor(Math.random() * messages.length)],
            timestamp: new Date()
          });
        }
      }, 8000);
    }
  </script>
</body>
</html>